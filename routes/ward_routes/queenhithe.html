<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_917d4e3c4f14fdcfc3a5a31addbe6e5c {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class="folium-map" id="map_917d4e3c4f14fdcfc3a5a31addbe6e5c" ></div>
        
</body>
<script>
    
    
            var map_917d4e3c4f14fdcfc3a5a31addbe6e5c = L.map(
                "map_917d4e3c4f14fdcfc3a5a31addbe6e5c",
                {
                    center: [51.51064120142155, -0.09754977458865102],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_4d0acc4b8c63aabb44a691adfba7ead7 = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {
  "minZoom": 0,
  "maxZoom": 20,
  "maxNativeZoom": 20,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"https://carto.com/attributions\"\u003eCARTO\u003c/a\u003e",
  "subdomains": "abcd",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_4d0acc4b8c63aabb44a691adfba7ead7.addTo(map_917d4e3c4f14fdcfc3a5a31addbe6e5c);
        
    
        function geo_json_94fd1e314a9d50b7fa66538dea281e39_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#cccccc", "fillOpacity": 0.1, "weight": 2};
            }
        }

        function geo_json_94fd1e314a9d50b7fa66538dea281e39_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_94fd1e314a9d50b7fa66538dea281e39 = L.geoJson(null, {
                onEachFeature: geo_json_94fd1e314a9d50b7fa66538dea281e39_onEachFeature,
            
                style: geo_json_94fd1e314a9d50b7fa66538dea281e39_styler,
            ...{
}
        });

        function geo_json_94fd1e314a9d50b7fa66538dea281e39_add (data) {
            geo_json_94fd1e314a9d50b7fa66538dea281e39
                .addData(data);
        }
            geo_json_94fd1e314a9d50b7fa66538dea281e39_add({"features": [{"geometry": {"coordinates": [[[-0.0984808567130033, 51.51195066169242], [-0.09843200850515922, 51.51194807171862], [-0.09827810171690704, 51.511940182300926], [-0.09783946214986955, 51.51191868516363], [-0.09775027811638226, 51.5119145417217], [-0.09772146048809338, 51.51191317532506], [-0.09733028850681123, 51.51189604215465], [-0.09722219312783154, 51.511895187511], [-0.09725301350203035, 51.511674533883465], [-0.097241119819407, 51.51161491712318], [-0.09716306908135156, 51.5115489229486], [-0.09715463181406328, 51.511546089065384], [-0.09710708797259031, 51.51150935775216], [-0.09702552258153842, 51.51149634737651], [-0.09632604985529519, 51.51143824820659], [-0.09633061895631675, 51.51132864452759], [-0.09615530078509961, 51.51131851687442], [-0.09616121864520531, 51.5111765711369], [-0.09537587035591721, 51.51113774920606], [-0.09533168308401346, 51.51126558845637], [-0.09522634494930526, 51.51161457718092], [-0.09518541779593362, 51.511835156092225], [-0.09473256283572706, 51.51180982044521], [-0.09490595788957189, 51.51127935097422], [-0.0945932003775002, 51.5112455023429], [-0.09462212217481125, 51.51113899133316], [-0.0948242354358345, 51.51116474963333], [-0.0948415705969488, 51.51109670730953], [-0.09499549393846636, 51.51072243708917], [-0.09510372689422156, 51.510443617463714], [-0.09525985949629782, 51.510118827712375], [-0.09532375453257343, 51.51000560261243], [-0.0957298802883087, 51.50928472739947], [-0.09601614112042987, 51.50933252691782], [-0.09685012158803888, 51.50944675082829], [-0.09773275828655337, 51.5095339789059], [-0.0985453509531758, 51.50960559086392], [-0.0989834143207583, 51.50964325813307], [-0.09931641835808559, 51.50967292822765], [-0.0999517841417311, 51.50971199118524], [-0.09991771098147788, 51.51042812074777], [-0.09990282549393142, 51.51075160891074], [-0.09988216824356592, 51.51117668025888], [-0.09982053603359811, 51.511238611623845], [-0.09974506769455461, 51.511356056678125], [-0.09971730197915155, 51.51139794963191], [-0.09968087781051664, 51.511719290754584], [-0.09956789144680833, 51.511838824792676], [-0.09940172679315618, 51.511917042061704], [-0.0991708788585839, 51.511959149865675], [-0.09879587002745353, 51.51196475850425], [-0.0984808567130033, 51.51195066169242]]], "type": "Polygon"}, "id": "639", "properties": {"DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009309", "HECTARES": 7.948, "LAGSSCODE": "E09000001", "NAME": "Queenhithe", "NONLD_AREA": 3.583, "_normalized_name": "queenhithe"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_94fd1e314a9d50b7fa66538dea281e39.addTo(map_917d4e3c4f14fdcfc3a5a31addbe6e5c);
        
    
        function geo_json_60077eec65349455350a75c712156dcc_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#fd8c3c", "fillOpacity": 0.7, "weight": 0.5};
            }
        }

        function geo_json_60077eec65349455350a75c712156dcc_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_60077eec65349455350a75c712156dcc = L.geoJson(null, {
                onEachFeature: geo_json_60077eec65349455350a75c712156dcc_onEachFeature,
            
                style: geo_json_60077eec65349455350a75c712156dcc_styler,
            ...{
}
        });

        function geo_json_60077eec65349455350a75c712156dcc_add (data) {
            geo_json_60077eec65349455350a75c712156dcc
                .addData(data);
        }
            geo_json_60077eec65349455350a75c712156dcc_add({"features": [{"geometry": {"coordinates": [[[[-0.07737099887417906, 51.517396019685506], [-0.07847157603218013, 51.521509887038206], [-0.08521839623899545, 51.52033385874817], [-0.08812915078150328, 51.51941071951071], [-0.09548113459525202, 51.51544001964419], [-0.09974880246315052, 51.516767594555155], [-0.10399462243365584, 51.51077938121521], [-0.09990284589579006, 51.51075114610646], [-0.09935578694134153, 51.5106766498334], [-0.09635884004862084, 51.51026848854436], [-0.09525988733101633, 51.51011879806548], [-0.09232213738951378, 51.50947573722671], [-0.09198839045879534, 51.50940267591846], [-0.0886035773016867, 51.508922602589735], [-0.08548097709594062, 51.50859612613123], [-0.0851724254980519, 51.50856149069807], [-0.08118153259906154, 51.508113430942245], [-0.08040208006001062, 51.5080259042259], [-0.07937941404664732, 51.50784275606517], [-0.07915975007908169, 51.50778683430267], [-0.07617255031926315, 51.5104769637077], [-0.08003605823182643, 51.51567348944954], [-0.07737099887417906, 51.517396019685506]]]], "type": "MultiPolygon"}, "id": "0", "properties": {"BNG_E": 532920, "BNG_N": 181297, "DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009309", "GlobalID": "{94762C09-73CF-4426-BA0D-E0D96EDFB7F5}", "HECTARES": 7.948, "LAGSSCODE": "E09000001", "LAT": 51.51496887207031, "LONG": -0.0857900008559227, "LSOA21CD": "E01032739", "LSOA21NM": "City of London 001F", "LSOA21NMW": " ", "NAME": "Queenhithe", "NONLD_AREA": 3.583, "WD24NM": "Walbrook", "_normalized_name": "queenhithe", "crime_rate": 20.0, "is_high_crime": true, "median": 20.0}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
    geo_json_60077eec65349455350a75c712156dcc.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature => {
        if (feature === null) {
            return '';
        } else if (typeof(feature)=='object') {
            return JSON.stringify(feature);
        } else {
            return feature;
        }
    }
    let fields = ["LSOA21CD", "LSOA21NM", "crime_rate"];
    let aliases = ["LSOA Code:", "LSOA Name:", "Median Crime Rate (from \"median\"):"];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{
  "sticky": true,
  "className": "foliumtooltip",
});
                     
    
            geo_json_60077eec65349455350a75c712156dcc.addTo(map_917d4e3c4f14fdcfc3a5a31addbe6e5c);
        
    
            var feature_group_b5d8efcc30b819b0d138bffd52727b50 = L.featureGroup(
                {
}
            );
        
    
            var marker_5f53c59de96fa0511b966d7ec8281077 = L.marker(
                [51.5110758, -0.0950391],
                {
}
            ).addTo(feature_group_b5d8efcc30b819b0d138bffd52727b50);
        
    
            var icon_89cedb545ded9923f590b7728115e855 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_2d5ebb55ae9b6c4ea66988d4028420b3 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_528191045eace6dd2e314c67d69ca413 = $(`<div id="html_528191045eace6dd2e314c67d69ca413" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Guaranteed Pt)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_2d5ebb55ae9b6c4ea66988d4028420b3.setContent(html_528191045eace6dd2e314c67d69ca413);
            
        

        marker_5f53c59de96fa0511b966d7ec8281077.bindPopup(popup_2d5ebb55ae9b6c4ea66988d4028420b3)
        ;

        
    
    
                marker_5f53c59de96fa0511b966d7ec8281077.setIcon(icon_89cedb545ded9923f590b7728115e855);
            
    
            var marker_20fa2175ad9048aa18e935dd92a1af9c = L.marker(
                [51.5110758, -0.0950391],
                {
}
            ).addTo(feature_group_b5d8efcc30b819b0d138bffd52727b50);
        
    
            var icon_2814ad63e4e50d546980f10879c428f2 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_55019657eb5ef3e398bffdad5b484f9e = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_8cc01b39dd3feff0b323fa22071142fd = $(`<div id="html_8cc01b39dd3feff0b323fa22071142fd" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Addl Pt 1)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_55019657eb5ef3e398bffdad5b484f9e.setContent(html_8cc01b39dd3feff0b323fa22071142fd);
            
        

        marker_20fa2175ad9048aa18e935dd92a1af9c.bindPopup(popup_55019657eb5ef3e398bffdad5b484f9e)
        ;

        
    
    
                marker_20fa2175ad9048aa18e935dd92a1af9c.setIcon(icon_2814ad63e4e50d546980f10879c428f2);
            
    
            var marker_db8bead24c8e2d4e76bad91217a64921 = L.marker(
                [51.5110758, -0.0950391],
                {
}
            ).addTo(feature_group_b5d8efcc30b819b0d138bffd52727b50);
        
    
            var icon_e1bad07a69f9da446f01a5e072853c06 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_dcf3a36e7cc2752205622b7575ea649f = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_e6d5cac0f912e9078bf5a08cc20e5e8a = $(`<div id="html_e6d5cac0f912e9078bf5a08cc20e5e8a" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Addl Pt 2)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_dcf3a36e7cc2752205622b7575ea649f.setContent(html_e6d5cac0f912e9078bf5a08cc20e5e8a);
            
        

        marker_db8bead24c8e2d4e76bad91217a64921.bindPopup(popup_dcf3a36e7cc2752205622b7575ea649f)
        ;

        
    
    
                marker_db8bead24c8e2d4e76bad91217a64921.setIcon(icon_e1bad07a69f9da446f01a5e072853c06);
            
    
            var marker_0131d7616794b9af54f0baf9d624e864 = L.marker(
                [51.5109133, -0.097659],
                {
}
            ).addTo(feature_group_b5d8efcc30b819b0d138bffd52727b50);
        
    
            var icon_d0ba05904502139ae903297031be2c31 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_c977d84634e7536e50a57b0da2490a35 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_6a5fdc55bf42147962edde87fe5bb5fa = $(`<div id="html_6a5fdc55bf42147962edde87fe5bb5fa" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Addl Pt 3)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_c977d84634e7536e50a57b0da2490a35.setContent(html_6a5fdc55bf42147962edde87fe5bb5fa);
            
        

        marker_0131d7616794b9af54f0baf9d624e864.bindPopup(popup_c977d84634e7536e50a57b0da2490a35)
        ;

        
    
    
                marker_0131d7616794b9af54f0baf9d624e864.setIcon(icon_d0ba05904502139ae903297031be2c31);
            
    
            var marker_80e153fe8b19a04baaa35d8666e2c54b = L.marker(
                [51.5110758, -0.0950391],
                {
}
            ).addTo(feature_group_b5d8efcc30b819b0d138bffd52727b50);
        
    
            var icon_901f246ec30ec2780855f1685751853f = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_431a7aa86d0c434d6f169522c9a49911 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_25a4e13fab53301550193745307f94e4 = $(`<div id="html_25a4e13fab53301550193745307f94e4" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Addl Pt 4)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_431a7aa86d0c434d6f169522c9a49911.setContent(html_25a4e13fab53301550193745307f94e4);
            
        

        marker_80e153fe8b19a04baaa35d8666e2c54b.bindPopup(popup_431a7aa86d0c434d6f169522c9a49911)
        ;

        
    
    
                marker_80e153fe8b19a04baaa35d8666e2c54b.setIcon(icon_901f246ec30ec2780855f1685751853f);
            
    
            feature_group_b5d8efcc30b819b0d138bffd52727b50.addTo(map_917d4e3c4f14fdcfc3a5a31addbe6e5c);
        
    
            var poly_line_e89051367688b9a9d83ca957b96404c4 = L.polyline(
                [[51.5110758, -0.0950391], [51.5111044, -0.0954538], [51.5110385, -0.0954823], [51.5109661, -0.095762], [51.5110415, -0.0962606], [51.511055, -0.0967922], [51.5108344, -0.0968942], [51.5108496, -0.0976678], [51.5109133, -0.097659], [51.5108496, -0.0976678], [51.5108344, -0.0968942], [51.511055, -0.0967922], [51.5110415, -0.0962606], [51.5109661, -0.095762], [51.5109311, -0.0955212], [51.510884, -0.0951552], [51.5108769, -0.0951001], [51.5110758, -0.0950391]],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "red", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.8, "smoothFactor": 1.0, "stroke": true, "weight": 5}
            ).addTo(map_917d4e3c4f14fdcfc3a5a31addbe6e5c);
        
    
            var layer_control_e0db44107e84c88c5ceb2475d0a393f1_layers = {
                base_layers : {
                    "cartodbpositron" : tile_layer_4d0acc4b8c63aabb44a691adfba7ead7,
                },
                overlays :  {
                    "Queenhithe Boundary" : geo_json_94fd1e314a9d50b7fa66538dea281e39,
                    "LSOA Median Crime Rates for Queenhithe" : geo_json_60077eec65349455350a75c712156dcc,
                    "Patrol Waypoints" : feature_group_b5d8efcc30b819b0d138bffd52727b50,
                },
            };
            let layer_control_e0db44107e84c88c5ceb2475d0a393f1 = L.control.layers(
                layer_control_e0db44107e84c88c5ceb2475d0a393f1_layers.base_layers,
                layer_control_e0db44107e84c88c5ceb2475d0a393f1_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_917d4e3c4f14fdcfc3a5a31addbe6e5c);

        
</script>
</html>