<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_6ce7afab708094b71def64a5f568dbb0 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class="folium-map" id="map_6ce7afab708094b71def64a5f568dbb0" ></div>
        
</body>
<script>
    
    
            var map_6ce7afab708094b71def64a5f568dbb0 = L.map(
                "map_6ce7afab708094b71def64a5f568dbb0",
                {
                    center: [51.51604051593403, -0.08602771240354458],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_1a8449e1799c979b4a77d76ea2123312 = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {
  "minZoom": 0,
  "maxZoom": 20,
  "maxNativeZoom": 20,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"https://carto.com/attributions\"\u003eCARTO\u003c/a\u003e",
  "subdomains": "abcd",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_1a8449e1799c979b4a77d76ea2123312.addTo(map_6ce7afab708094b71def64a5f568dbb0);
        
    
        function geo_json_d33a8795534111a905d6c43ebcc3a407_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#cccccc", "fillOpacity": 0.1, "weight": 2};
            }
        }

        function geo_json_d33a8795534111a905d6c43ebcc3a407_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_d33a8795534111a905d6c43ebcc3a407 = L.geoJson(null, {
                onEachFeature: geo_json_d33a8795534111a905d6c43ebcc3a407_onEachFeature,
            
                style: geo_json_d33a8795534111a905d6c43ebcc3a407_styler,
            ...{
}
        });

        function geo_json_d33a8795534111a905d6c43ebcc3a407_add (data) {
            geo_json_d33a8795534111a905d6c43ebcc3a407
                .addData(data);
        }
            geo_json_d33a8795534111a905d6c43ebcc3a407_add({"features": [{"geometry": {"coordinates": [[[-0.08446598294451632, 51.517780062380695], [-0.08312871529577269, 51.51756663821346], [-0.08323688945506812, 51.517254565366976], [-0.08333841080018653, 51.51699902066485], [-0.08356455001803692, 51.516384923431936], [-0.08426748164945654, 51.51557184455465], [-0.08455034904514508, 51.515253633730985], [-0.0847619606021635, 51.515121250591434], [-0.08498411216857486, 51.51501520005438], [-0.08531848711648866, 51.51491089127237], [-0.08549736666437928, 51.51483919434042], [-0.08570582482953976, 51.5148839508402], [-0.08605980416785018, 51.51489871775239], [-0.08687786569932562, 51.514810477441564], [-0.08755657227858064, 51.51467590828166], [-0.08787119940444604, 51.51463150320846], [-0.08834531069400388, 51.51466629155901], [-0.08866885731543268, 51.51468415056893], [-0.08891267039206761, 51.51471329551267], [-0.08884034102966332, 51.51495934170246], [-0.08887748480828961, 51.51496623993619], [-0.08902648178344091, 51.51498943453073], [-0.08898936415275638, 51.51508412366428], [-0.08908526497250575, 51.51509827216135], [-0.08900798776383874, 51.515292185781945], [-0.08947299652896962, 51.51534021629637], [-0.08935447132621126, 51.51569348003731], [-0.08933578333338715, 51.515691377606906], [-0.08901159385070245, 51.51565463103227], [-0.08859153070891158, 51.5156343011515], [-0.08804438712482518, 51.51562358523271], [-0.08797980619547613, 51.51565040142826], [-0.08797244932924543, 51.51565297849417], [-0.0879345104609536, 51.51569910796177], [-0.087911768499519, 51.515725707185794], [-0.08793093630966067, 51.515784454608095], [-0.08794759265885531, 51.515835070092486], [-0.08792412279988417, 51.515947152263564], [-0.08779759676775432, 51.51624994010058], [-0.0877486420006862, 51.51649097269791], [-0.08764743392080472, 51.51711700366302], [-0.08760443182958809, 51.51711090853075], [-0.08735385778547101, 51.51707266070688], [-0.08696121506741503, 51.517015913245636], [-0.0866059501027285, 51.51696337022637], [-0.08625793017655523, 51.516910944338605], [-0.08596904635097012, 51.51685678546764], [-0.08579126432579283, 51.51683410613807], [-0.08576241212164683, 51.51683633225112], [-0.08563809649926364, 51.5168450912581], [-0.08552248133598113, 51.51688725512018], [-0.08542014305329498, 51.51695570657387], [-0.08525088398351291, 51.517106672401745], [-0.08484875392975763, 51.51745179543102], [-0.08462871559926598, 51.51764598217849], [-0.08461216114453245, 51.517660994825405], [-0.08455087636195324, 51.5177139339574], [-0.08453147163391668, 51.51772890004545], [-0.08446598294451632, 51.517780062380695]]], "type": "Polygon"}, "id": "653", "properties": {"DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009295", "HECTARES": 8.157, "LAGSSCODE": "E09000001", "NAME": "Broad Street", "NONLD_AREA": 0.0, "_normalized_name": "broad street"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_d33a8795534111a905d6c43ebcc3a407.addTo(map_6ce7afab708094b71def64a5f568dbb0);
        
    
        function geo_json_0ee721c79e7b2861fcf3d1672db6f4d3_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#fd8c3c", "fillOpacity": 0.7, "weight": 0.5};
            }
        }

        function geo_json_0ee721c79e7b2861fcf3d1672db6f4d3_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_0ee721c79e7b2861fcf3d1672db6f4d3 = L.geoJson(null, {
                onEachFeature: geo_json_0ee721c79e7b2861fcf3d1672db6f4d3_onEachFeature,
            
                style: geo_json_0ee721c79e7b2861fcf3d1672db6f4d3_styler,
            ...{
}
        });

        function geo_json_0ee721c79e7b2861fcf3d1672db6f4d3_add (data) {
            geo_json_0ee721c79e7b2861fcf3d1672db6f4d3
                .addData(data);
        }
            geo_json_0ee721c79e7b2861fcf3d1672db6f4d3_add({"features": [{"geometry": {"coordinates": [[[[-0.07737099887417906, 51.517396019685506], [-0.07847157603218012, 51.5215098870382], [-0.08521839623899545, 51.52033385874817], [-0.08812915078150328, 51.51941071951071], [-0.09548113459525204, 51.51544001964419], [-0.09974880246315052, 51.51676759455516], [-0.10399462243365584, 51.51077938121521], [-0.09990284589579007, 51.51075114610646], [-0.09935578694134153, 51.51067664983341], [-0.09635884004862082, 51.510268488544355], [-0.09525988733101631, 51.51011879806548], [-0.09232213738951378, 51.50947573722671], [-0.09198839045879534, 51.50940267591846], [-0.0886035773016867, 51.50892260258973], [-0.08548097709594062, 51.50859612613124], [-0.0851724254980519, 51.50856149069807], [-0.08118153259906154, 51.508113430942245], [-0.08040208006001064, 51.5080259042259], [-0.07937941404664733, 51.50784275606517], [-0.0791597500790817, 51.50778683430268], [-0.07617255031926315, 51.5104769637077], [-0.08003605823182643, 51.515673489449554], [-0.07737099887417906, 51.517396019685506]]]], "type": "MultiPolygon"}, "id": "0", "properties": {"BNG_E": 532920, "BNG_N": 181297, "DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009295", "GlobalID": "{94762C09-73CF-4426-BA0D-E0D96EDFB7F5}", "HECTARES": 8.157, "LAGSSCODE": "E09000001", "LAT": 51.51496887207031, "LONG": -0.0857900008559227, "LSOA21CD": "E01032739", "LSOA21NM": "City of London 001F", "LSOA21NMW": " ", "NAME": "Broad Street", "NONLD_AREA": 0.0, "WD24NM": "Walbrook", "_normalized_name": "broad street", "crime_rate": 20.0, "is_high_crime": true, "median": 20.0}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
    geo_json_0ee721c79e7b2861fcf3d1672db6f4d3.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = ["LSOA21CD", "LSOA21NM", "crime_rate"];
    let aliases = ["LSOA Code:", "LSOA Name:", "Median Crime Rate (from \"median\"):"];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{
  "sticky": true,
  "className": "foliumtooltip",
});
                     
    
            geo_json_0ee721c79e7b2861fcf3d1672db6f4d3.addTo(map_6ce7afab708094b71def64a5f568dbb0);
        
    
            var feature_group_96946cfd546743ee9393f363777a61aa = L.featureGroup(
                {
}
            );
        
    
            var marker_de7ec5b1200c9e9acfa2a5f82c70b7f3 = L.marker(
                [51.5163545, -0.0836129],
                {
}
            ).addTo(feature_group_96946cfd546743ee9393f363777a61aa);
        
    
            var icon_c58e7493eb2359eb5c51e115f8eb780a = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_4e1c0a620ce192ca097f4063e5619178 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_1f9d4e5e6b887eaef1c7a4debcfe7499 = $(`<div id="html_1f9d4e5e6b887eaef1c7a4debcfe7499" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 1)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_4e1c0a620ce192ca097f4063e5619178.setContent(html_1f9d4e5e6b887eaef1c7a4debcfe7499);
            
        

        marker_de7ec5b1200c9e9acfa2a5f82c70b7f3.bindPopup(popup_4e1c0a620ce192ca097f4063e5619178)
        ;

        
    
    
                marker_de7ec5b1200c9e9acfa2a5f82c70b7f3.setIcon(icon_c58e7493eb2359eb5c51e115f8eb780a);
            
    
            var marker_0751835c66008b0d69cd2ae4b314313f = L.marker(
                [51.5168111, -0.0856937],
                {
}
            ).addTo(feature_group_96946cfd546743ee9393f363777a61aa);
        
    
            var icon_f92d8a7c438da1b145797b52b56a3d4f = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_eea29c981ac4cbd0b2cf00f06bd618b4 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_80e32561025f09e13e52f12a9f6c9726 = $(`<div id="html_80e32561025f09e13e52f12a9f6c9726" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 2)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_eea29c981ac4cbd0b2cf00f06bd618b4.setContent(html_80e32561025f09e13e52f12a9f6c9726);
            
        

        marker_0751835c66008b0d69cd2ae4b314313f.bindPopup(popup_eea29c981ac4cbd0b2cf00f06bd618b4)
        ;

        
    
    
                marker_0751835c66008b0d69cd2ae4b314313f.setIcon(icon_f92d8a7c438da1b145797b52b56a3d4f);
            
    
            var marker_f8e4226fb8f4f5df01c2896a693c9e07 = L.marker(
                [51.5163545, -0.0836129],
                {
}
            ).addTo(feature_group_96946cfd546743ee9393f363777a61aa);
        
    
            var icon_3df62f880508dab1b9cd3baddc06f183 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_f39d584d35b0a3070ba58cfd340afe0c = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_56de2de1baa898ed41c28e77875999bb = $(`<div id="html_56de2de1baa898ed41c28e77875999bb" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 3)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_f39d584d35b0a3070ba58cfd340afe0c.setContent(html_56de2de1baa898ed41c28e77875999bb);
            
        

        marker_f8e4226fb8f4f5df01c2896a693c9e07.bindPopup(popup_f39d584d35b0a3070ba58cfd340afe0c)
        ;

        
    
    
                marker_f8e4226fb8f4f5df01c2896a693c9e07.setIcon(icon_3df62f880508dab1b9cd3baddc06f183);
            
    
            var marker_144d251642dfc3e8a258c23dd3aa4ce2 = L.marker(
                [51.5163545, -0.0836129],
                {
}
            ).addTo(feature_group_96946cfd546743ee9393f363777a61aa);
        
    
            var icon_007f86cd741bb757b60292125e5d15cb = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_f1eb8ebe014a7c985acdc76ea79cac71 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_26aa88efd07cc7e8153fe7e0f0d69e5c = $(`<div id="html_26aa88efd07cc7e8153fe7e0f0d69e5c" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 4)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_f1eb8ebe014a7c985acdc76ea79cac71.setContent(html_26aa88efd07cc7e8153fe7e0f0d69e5c);
            
        

        marker_144d251642dfc3e8a258c23dd3aa4ce2.bindPopup(popup_f1eb8ebe014a7c985acdc76ea79cac71)
        ;

        
    
    
                marker_144d251642dfc3e8a258c23dd3aa4ce2.setIcon(icon_007f86cd741bb757b60292125e5d15cb);
            
    
            var marker_07cb41f8feeadcadcb0250fa31a32de0 = L.marker(
                [51.5163545, -0.0836129],
                {
}
            ).addTo(feature_group_96946cfd546743ee9393f363777a61aa);
        
    
            var icon_4c4125d17e876256b2468cf984989e51 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_7e618637cb120aa844b51159382a6127 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_2192c35abd8355839a4d4f33d4714b08 = $(`<div id="html_2192c35abd8355839a4d4f33d4714b08" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 5)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_7e618637cb120aa844b51159382a6127.setContent(html_2192c35abd8355839a4d4f33d4714b08);
            
        

        marker_07cb41f8feeadcadcb0250fa31a32de0.bindPopup(popup_7e618637cb120aa844b51159382a6127)
        ;

        
    
    
                marker_07cb41f8feeadcadcb0250fa31a32de0.setIcon(icon_4c4125d17e876256b2468cf984989e51);
            
    
            feature_group_96946cfd546743ee9393f363777a61aa.addTo(map_6ce7afab708094b71def64a5f568dbb0);
        
    
            var poly_line_8671354561434b11d01fbdfcd3230d6e = L.polyline(
                [[51.5163545, -0.0836129], [51.5167075, -0.0853831], [51.5168111, -0.0856937], [51.5168039, -0.0854965], [51.5164315, -0.0835727], [51.5163545, -0.0836129]],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "red", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.8, "smoothFactor": 1.0, "stroke": true, "weight": 5}
            ).addTo(map_6ce7afab708094b71def64a5f568dbb0);
        
    
            var layer_control_b67328827f1cefb12bbf7964bf5ff3cc_layers = {
                base_layers : {
                    "cartodbpositron" : tile_layer_1a8449e1799c979b4a77d76ea2123312,
                },
                overlays :  {
                    "Broad Street Boundary" : geo_json_d33a8795534111a905d6c43ebcc3a407,
                    "LSOA Median Crime Rates for Broad Street" : geo_json_0ee721c79e7b2861fcf3d1672db6f4d3,
                    "Patrol Waypoints" : feature_group_96946cfd546743ee9393f363777a61aa,
                },
            };
            let layer_control_b67328827f1cefb12bbf7964bf5ff3cc = L.control.layers(
                layer_control_b67328827f1cefb12bbf7964bf5ff3cc_layers.base_layers,
                layer_control_b67328827f1cefb12bbf7964bf5ff3cc_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_6ce7afab708094b71def64a5f568dbb0);

        
</script>
</html>