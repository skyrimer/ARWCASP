<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_32f76fb31145968f4e8441c68b8b7f53 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class="folium-map" id="map_32f76fb31145968f4e8441c68b8b7f53" ></div>
        
</body>
<script>
    
    
            var map_32f76fb31145968f4e8441c68b8b7f53 = L.map(
                "map_32f76fb31145968f4e8441c68b8b7f53",
                {
                    center: [51.51078107849717, -0.09402370154042453],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_a79161eb777aa24b90fa9507c8cc5972 = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {
  "minZoom": 0,
  "maxZoom": 20,
  "maxNativeZoom": 20,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"https://carto.com/attributions\"\u003eCARTO\u003c/a\u003e",
  "subdomains": "abcd",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_a79161eb777aa24b90fa9507c8cc5972.addTo(map_32f76fb31145968f4e8441c68b8b7f53);
        
    
        function geo_json_0ce15a1c36945ff09597f82e2d019a4a_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#cccccc", "fillOpacity": 0.1, "weight": 2};
            }
        }

        function geo_json_0ce15a1c36945ff09597f82e2d019a4a_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_0ce15a1c36945ff09597f82e2d019a4a = L.geoJson(null, {
                onEachFeature: geo_json_0ce15a1c36945ff09597f82e2d019a4a_onEachFeature,
            
                style: geo_json_0ce15a1c36945ff09597f82e2d019a4a_styler,
            ...{
}
        });

        function geo_json_0ce15a1c36945ff09597f82e2d019a4a_add (data) {
            geo_json_0ce15a1c36945ff09597f82e2d019a4a
                .addData(data);
        }
            geo_json_0ce15a1c36945ff09597f82e2d019a4a_add({"features": [{"geometry": {"coordinates": [[[-0.0926509394745297, 51.508510820896795], [-0.09282343676657817, 51.508554081074635], [-0.09317088181936038, 51.5086559234937], [-0.0940139940817643, 51.508895366987], [-0.09494903010727462, 51.509107529564375], [-0.09530424548957947, 51.509194208828106], [-0.0957298802883087, 51.50928472739947], [-0.09532375453257343, 51.51000560261243], [-0.09525985949629782, 51.510118827712375], [-0.09510372689422156, 51.510443617463714], [-0.09499549393846636, 51.51072243708917], [-0.0948415705969488, 51.51109670730953], [-0.0948242354358345, 51.51116474963333], [-0.09462212217481125, 51.51113899133316], [-0.0945932003775002, 51.5112455023429], [-0.09490595788957189, 51.51127935097422], [-0.09473256283572706, 51.51180982044521], [-0.09518541779593362, 51.511835156092225], [-0.09522634494930526, 51.51161457718092], [-0.09533168308401346, 51.51126558845637], [-0.09537587035591721, 51.51113774920606], [-0.09616121864520531, 51.5111765711369], [-0.09615530078509961, 51.51131851687442], [-0.09633061895631675, 51.51132864452759], [-0.09632604985529519, 51.51143824820659], [-0.09702552258153842, 51.51149634737651], [-0.09710708797259031, 51.51150935775216], [-0.09715463181406328, 51.511546089065384], [-0.09716306908135156, 51.5115489229486], [-0.097241119819407, 51.51161491712318], [-0.09725301350203035, 51.511674533883465], [-0.09722219312783154, 51.511895187511], [-0.09670180345838289, 51.5118993297615], [-0.09663968533160708, 51.512143838202725], [-0.09675671800868216, 51.51224103125401], [-0.09674148212073035, 51.51225876398346], [-0.09669687579138969, 51.51229408996178], [-0.09654173248557019, 51.51290307097939], [-0.09647014971853773, 51.51289282933938], [-0.09595495086105867, 51.51280355673919], [-0.09576780518898992, 51.51280051841909], [-0.09566811277976839, 51.51277192982788], [-0.09516555967823216, 51.512655889104], [-0.09514710380965911, 51.51265109436727], [-0.0941375158909487, 51.51246109646109], [-0.09378723354938241, 51.512395170992605], [-0.0928823351022527, 51.512182590681384], [-0.09203241274135089, 51.512002452551144], [-0.09257575440857095, 51.510794584852704], [-0.09256997358476593, 51.51079359183773], [-0.09258430484767878, 51.51076056194085], [-0.09197613890738013, 51.51065897165349], [-0.09131158555107105, 51.51052490566837], [-0.09125302186969207, 51.51051316458465], [-0.0916543399750252, 51.50970142594901], [-0.09178583905267565, 51.509727838530615], [-0.09181165519840691, 51.509732753560016], [-0.0918366800652441, 51.50968551374128], [-0.09189765197792008, 51.50957134389636], [-0.0919821819900436, 51.50941089920641], [-0.0919882192314897, 51.50940290642849], [-0.0926509394745297, 51.508510820896795]]], "type": "Polygon"}, "id": "640", "properties": {"DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009311", "HECTARES": 10.401, "LAGSSCODE": "E09000001", "NAME": "Vintry", "NONLD_AREA": 2.406, "_normalized_name": "vintry"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_0ce15a1c36945ff09597f82e2d019a4a.addTo(map_32f76fb31145968f4e8441c68b8b7f53);
        
    
        function geo_json_b71530f64e49e8e38eae323d9d95633e_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#fd8c3c", "fillOpacity": 0.7, "weight": 0.5};
            }
        }

        function geo_json_b71530f64e49e8e38eae323d9d95633e_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_b71530f64e49e8e38eae323d9d95633e = L.geoJson(null, {
                onEachFeature: geo_json_b71530f64e49e8e38eae323d9d95633e_onEachFeature,
            
                style: geo_json_b71530f64e49e8e38eae323d9d95633e_styler,
            ...{
}
        });

        function geo_json_b71530f64e49e8e38eae323d9d95633e_add (data) {
            geo_json_b71530f64e49e8e38eae323d9d95633e
                .addData(data);
        }
            geo_json_b71530f64e49e8e38eae323d9d95633e_add({"features": [{"geometry": {"coordinates": [[[[-0.07737099887417906, 51.517396019685506], [-0.07847157603218013, 51.521509887038206], [-0.08521839623899545, 51.52033385874817], [-0.08812915078150328, 51.51941071951071], [-0.09548113459525202, 51.51544001964419], [-0.09974880246315052, 51.516767594555155], [-0.10399462243365584, 51.51077938121521], [-0.09990284589579006, 51.51075114610646], [-0.09935578694134153, 51.5106766498334], [-0.09635884004862084, 51.51026848854436], [-0.09525988733101633, 51.51011879806548], [-0.09232213738951378, 51.50947573722671], [-0.09198839045879534, 51.50940267591846], [-0.0886035773016867, 51.508922602589735], [-0.08548097709594062, 51.50859612613123], [-0.0851724254980519, 51.50856149069807], [-0.08118153259906154, 51.508113430942245], [-0.08040208006001062, 51.5080259042259], [-0.07937941404664732, 51.50784275606517], [-0.07915975007908169, 51.50778683430267], [-0.07617255031926315, 51.5104769637077], [-0.08003605823182643, 51.51567348944954], [-0.07737099887417906, 51.517396019685506]]]], "type": "MultiPolygon"}, "id": "0", "properties": {"BNG_E": 532920, "BNG_N": 181297, "DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009311", "GlobalID": "{94762C09-73CF-4426-BA0D-E0D96EDFB7F5}", "HECTARES": 10.401, "LAGSSCODE": "E09000001", "LAT": 51.51496887207031, "LONG": -0.0857900008559227, "LSOA21CD": "E01032739", "LSOA21NM": "City of London 001F", "LSOA21NMW": " ", "NAME": "Vintry", "NONLD_AREA": 2.406, "WD24NM": "Walbrook", "_normalized_name": "vintry", "crime_rate": 20.0, "is_high_crime": true, "median": 20.0}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
    geo_json_b71530f64e49e8e38eae323d9d95633e.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature => {
        if (feature === null) {
            return '';
        } else if (typeof(feature)=='object') {
            return JSON.stringify(feature);
        } else {
            return feature;
        }
    }
    let fields = ["LSOA21CD", "LSOA21NM", "crime_rate"];
    let aliases = ["LSOA Code:", "LSOA Name:", "Median Crime Rate (from \"median\"):"];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{
  "sticky": true,
  "className": "foliumtooltip",
});
                     
    
            geo_json_b71530f64e49e8e38eae323d9d95633e.addTo(map_32f76fb31145968f4e8441c68b8b7f53);
        
    
            var feature_group_4e86e4d946c679baef86becb0affc452 = L.featureGroup(
                {
}
            );
        
    
            var marker_30004017a7651b25f9d39e7b5ecc0e40 = L.marker(
                [51.5119765, -0.0957978],
                {
}
            ).addTo(feature_group_4e86e4d946c679baef86becb0affc452);
        
    
            var icon_45acf587d456c8fbd87d14c425e2f983 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_32c8f78a15d4e15717f5df474dba1a0f = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_6603115a6625e278f22de400426508ca = $(`<div id="html_6603115a6625e278f22de400426508ca" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Guaranteed Pt)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_32c8f78a15d4e15717f5df474dba1a0f.setContent(html_6603115a6625e278f22de400426508ca);
            
        

        marker_30004017a7651b25f9d39e7b5ecc0e40.bindPopup(popup_32c8f78a15d4e15717f5df474dba1a0f)
        ;

        
    
    
                marker_30004017a7651b25f9d39e7b5ecc0e40.setIcon(icon_45acf587d456c8fbd87d14c425e2f983);
            
    
            var marker_0266c5ec8614e4a1951ed733d6110c2d = L.marker(
                [51.5122617, -0.0943201],
                {
}
            ).addTo(feature_group_4e86e4d946c679baef86becb0affc452);
        
    
            var icon_c486216ac69aca1ec5fdbf5d8004e324 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_6bd6b47cb9e99a7d79b192ff99625e9e = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_1d79059c8a1a06675cba6715f1a09730 = $(`<div id="html_1d79059c8a1a06675cba6715f1a09730" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Addl Pt 1)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_6bd6b47cb9e99a7d79b192ff99625e9e.setContent(html_1d79059c8a1a06675cba6715f1a09730);
            
        

        marker_0266c5ec8614e4a1951ed733d6110c2d.bindPopup(popup_6bd6b47cb9e99a7d79b192ff99625e9e)
        ;

        
    
    
                marker_0266c5ec8614e4a1951ed733d6110c2d.setIcon(icon_c486216ac69aca1ec5fdbf5d8004e324);
            
    
            var marker_5a9e282aae918e84c69d7b0af9c47936 = L.marker(
                [51.5122617, -0.0943201],
                {
}
            ).addTo(feature_group_4e86e4d946c679baef86becb0affc452);
        
    
            var icon_e87305b2776f11b3b3d4e7c9834627f4 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_32f2e27433c750e5ac20fe9e13898b14 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_20eed79e36d9625e524785d410a88ebb = $(`<div id="html_20eed79e36d9625e524785d410a88ebb" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Addl Pt 2)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_32f2e27433c750e5ac20fe9e13898b14.setContent(html_20eed79e36d9625e524785d410a88ebb);
            
        

        marker_5a9e282aae918e84c69d7b0af9c47936.bindPopup(popup_32f2e27433c750e5ac20fe9e13898b14)
        ;

        
    
    
                marker_5a9e282aae918e84c69d7b0af9c47936.setIcon(icon_e87305b2776f11b3b3d4e7c9834627f4);
            
    
            var marker_980009570d727c032388bf2e5cf32599 = L.marker(
                [51.5122617, -0.0943201],
                {
}
            ).addTo(feature_group_4e86e4d946c679baef86becb0affc452);
        
    
            var icon_c81086a139f1653ab9dc16a7e940fe97 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_b07d6ace13c616915c66c17c7a1f64cc = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_0fcb836b58163a2ba7bff0fe941bfe8c = $(`<div id="html_0fcb836b58163a2ba7bff0fe941bfe8c" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Addl Pt 3)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_b07d6ace13c616915c66c17c7a1f64cc.setContent(html_0fcb836b58163a2ba7bff0fe941bfe8c);
            
        

        marker_980009570d727c032388bf2e5cf32599.bindPopup(popup_b07d6ace13c616915c66c17c7a1f64cc)
        ;

        
    
    
                marker_980009570d727c032388bf2e5cf32599.setIcon(icon_c81086a139f1653ab9dc16a7e940fe97);
            
    
            var marker_19b88a7f1f0e263eedcf74806cd4e939 = L.marker(
                [51.5122617, -0.0943201],
                {
}
            ).addTo(feature_group_4e86e4d946c679baef86becb0affc452);
        
    
            var icon_ede4ab81ad711d457e2bca0fbe3152d1 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_f8c84b0ce4fb031e594ee7d88fd81568 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_6e52744863250018e6fff127230510b1 = $(`<div id="html_6e52744863250018e6fff127230510b1" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Addl Pt 4)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_f8c84b0ce4fb031e594ee7d88fd81568.setContent(html_6e52744863250018e6fff127230510b1);
            
        

        marker_19b88a7f1f0e263eedcf74806cd4e939.bindPopup(popup_f8c84b0ce4fb031e594ee7d88fd81568)
        ;

        
    
    
                marker_19b88a7f1f0e263eedcf74806cd4e939.setIcon(icon_ede4ab81ad711d457e2bca0fbe3152d1);
            
    
            feature_group_4e86e4d946c679baef86becb0affc452.addTo(map_32f76fb31145968f4e8441c68b8b7f53);
        
    
            var poly_line_350af8b2dd1ba341be280c7a7da3f6c0 = L.polyline(
                [[51.5119765, -0.0957978], [51.5120639, -0.095345], [51.5121571, -0.094857], [51.5122617, -0.0943201], [51.5121571, -0.094857], [51.5120639, -0.095345], [51.5119765, -0.0957978]],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "red", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.8, "smoothFactor": 1.0, "stroke": true, "weight": 5}
            ).addTo(map_32f76fb31145968f4e8441c68b8b7f53);
        
    
            var layer_control_f50df72f04ae1db8217dd47a0292ca1f_layers = {
                base_layers : {
                    "cartodbpositron" : tile_layer_a79161eb777aa24b90fa9507c8cc5972,
                },
                overlays :  {
                    "Vintry Boundary" : geo_json_0ce15a1c36945ff09597f82e2d019a4a,
                    "LSOA Median Crime Rates for Vintry" : geo_json_b71530f64e49e8e38eae323d9d95633e,
                    "Patrol Waypoints" : feature_group_4e86e4d946c679baef86becb0affc452,
                },
            };
            let layer_control_f50df72f04ae1db8217dd47a0292ca1f = L.control.layers(
                layer_control_f50df72f04ae1db8217dd47a0292ca1f_layers.base_layers,
                layer_control_f50df72f04ae1db8217dd47a0292ca1f_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_32f76fb31145968f4e8441c68b8b7f53);

        
</script>
</html>