<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_a30486e0f722f0ec08fda56087f0607c {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class="folium-map" id="map_a30486e0f722f0ec08fda56087f0607c" ></div>
        
</body>
<script>
    
    
            var map_a30486e0f722f0ec08fda56087f0607c = L.map(
                "map_a30486e0f722f0ec08fda56087f0607c",
                {
                    center: [51.51078107849717, -0.09402370154042294],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_e27f986c50ecb35c4afc8934514dc2af = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {
  "minZoom": 0,
  "maxZoom": 20,
  "maxNativeZoom": 20,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"https://carto.com/attributions\"\u003eCARTO\u003c/a\u003e",
  "subdomains": "abcd",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_e27f986c50ecb35c4afc8934514dc2af.addTo(map_a30486e0f722f0ec08fda56087f0607c);
        
    
        function geo_json_417ac923263f7b1848cfa4afa0e07b2f_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#cccccc", "fillOpacity": 0.1, "weight": 2};
            }
        }

        function geo_json_417ac923263f7b1848cfa4afa0e07b2f_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_417ac923263f7b1848cfa4afa0e07b2f = L.geoJson(null, {
                onEachFeature: geo_json_417ac923263f7b1848cfa4afa0e07b2f_onEachFeature,
            
                style: geo_json_417ac923263f7b1848cfa4afa0e07b2f_styler,
            ...{
}
        });

        function geo_json_417ac923263f7b1848cfa4afa0e07b2f_add (data) {
            geo_json_417ac923263f7b1848cfa4afa0e07b2f
                .addData(data);
        }
            geo_json_417ac923263f7b1848cfa4afa0e07b2f_add({"features": [{"geometry": {"coordinates": [[[-0.0926509394745297, 51.5085108208968], [-0.09282343676657819, 51.50855408107464], [-0.09317088181936037, 51.50865592349371], [-0.0940139940817643, 51.50889536698699], [-0.09494903010727462, 51.50910752956437], [-0.09530424548957947, 51.5091942088281], [-0.0957298802883087, 51.50928472739947], [-0.09532375453257341, 51.510005602612445], [-0.09525985949629782, 51.51011882771238], [-0.09510372689422156, 51.510443617463714], [-0.09499549393846637, 51.51072243708918], [-0.0948415705969488, 51.51109670730953], [-0.0948242354358345, 51.51116474963333], [-0.09462212217481125, 51.51113899133316], [-0.0945932003775002, 51.51124550234291], [-0.09490595788957189, 51.51127935097422], [-0.09473256283572706, 51.511809820445215], [-0.09518541779593362, 51.511835156092225], [-0.09522634494930526, 51.511614577180914], [-0.09533168308401345, 51.51126558845637], [-0.0953758703559172, 51.51113774920605], [-0.09616121864520531, 51.5111765711369], [-0.09615530078509962, 51.511318516874425], [-0.09633061895631675, 51.51132864452759], [-0.09632604985529518, 51.51143824820659], [-0.09702552258153842, 51.5114963473765], [-0.09710708797259032, 51.51150935775216], [-0.09715463181406328, 51.511546089065384], [-0.09716306908135156, 51.5115489229486], [-0.097241119819407, 51.51161491712319], [-0.09725301350203035, 51.511674533883465], [-0.09722219312783154, 51.511895187510994], [-0.09670180345838289, 51.51189932976149], [-0.09663968533160708, 51.51214383820273], [-0.09675671800868214, 51.512241031254], [-0.09674148212073035, 51.51225876398346], [-0.09669687579138968, 51.51229408996178], [-0.09654173248557017, 51.51290307097939], [-0.09647014971853772, 51.51289282933938], [-0.09595495086105865, 51.51280355673919], [-0.0957678051889899, 51.512800518419084], [-0.09566811277976839, 51.512771929827885], [-0.09516555967823216, 51.512655889104], [-0.09514710380965911, 51.51265109436727], [-0.0941375158909487, 51.51246109646108], [-0.09378723354938241, 51.512395170992605], [-0.0928823351022527, 51.51218259068138], [-0.0920324127413509, 51.51200245255114], [-0.09257575440857095, 51.510794584852704], [-0.09256997358476593, 51.51079359183773], [-0.09258430484767878, 51.51076056194084], [-0.09197613890738013, 51.51065897165349], [-0.09131158555107105, 51.51052490566836], [-0.09125302186969207, 51.51051316458465], [-0.0916543399750252, 51.50970142594901], [-0.09178583905267566, 51.509727838530615], [-0.09181165519840691, 51.509732753560016], [-0.0918366800652441, 51.50968551374128], [-0.09189765197792008, 51.509571343896354], [-0.09198218199004361, 51.50941089920641], [-0.0919882192314897, 51.5094029064285], [-0.0926509394745297, 51.5085108208968]]], "type": "Polygon"}, "id": "640", "properties": {"DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009311", "HECTARES": 10.401, "LAGSSCODE": "E09000001", "NAME": "Vintry", "NONLD_AREA": 2.406}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_417ac923263f7b1848cfa4afa0e07b2f.addTo(map_a30486e0f722f0ec08fda56087f0607c);
        
    
        function geo_json_4b35a18aff1eeefe8fe20f03ed274cba_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#fd8c3c", "fillOpacity": 0.7, "weight": 0.5};
            }
        }

        function geo_json_4b35a18aff1eeefe8fe20f03ed274cba_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_4b35a18aff1eeefe8fe20f03ed274cba = L.geoJson(null, {
                onEachFeature: geo_json_4b35a18aff1eeefe8fe20f03ed274cba_onEachFeature,
            
                style: geo_json_4b35a18aff1eeefe8fe20f03ed274cba_styler,
            ...{
}
        });

        function geo_json_4b35a18aff1eeefe8fe20f03ed274cba_add (data) {
            geo_json_4b35a18aff1eeefe8fe20f03ed274cba
                .addData(data);
        }
            geo_json_4b35a18aff1eeefe8fe20f03ed274cba_add({"features": [{"geometry": {"coordinates": [[[[-0.07737099887417906, 51.517396019685506], [-0.07847157603218012, 51.5215098870382], [-0.08521839623899545, 51.52033385874817], [-0.08812915078150328, 51.51941071951071], [-0.09548113459525204, 51.51544001964419], [-0.09974880246315052, 51.51676759455516], [-0.10399462243365584, 51.51077938121521], [-0.09990284589579007, 51.51075114610646], [-0.09935578694134153, 51.51067664983341], [-0.09635884004862082, 51.510268488544355], [-0.09525988733101631, 51.51011879806548], [-0.09232213738951378, 51.50947573722671], [-0.09198839045879534, 51.50940267591846], [-0.0886035773016867, 51.50892260258973], [-0.08548097709594062, 51.50859612613124], [-0.0851724254980519, 51.50856149069807], [-0.08118153259906154, 51.508113430942245], [-0.08040208006001064, 51.5080259042259], [-0.07937941404664733, 51.50784275606517], [-0.0791597500790817, 51.50778683430268], [-0.07617255031926315, 51.5104769637077], [-0.08003605823182643, 51.515673489449554], [-0.07737099887417906, 51.517396019685506]]]], "type": "MultiPolygon"}, "id": "0", "properties": {"BNG_E": 532920, "BNG_N": 181297, "DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009311", "GlobalID": "{94762C09-73CF-4426-BA0D-E0D96EDFB7F5}", "HECTARES": 10.401, "LAGSSCODE": "E09000001", "LAT": 51.51496887207031, "LONG": -0.0857900008559227, "LSOA21CD": "E01032739", "LSOA21NM": "City of London 001F", "LSOA21NMW": " ", "NAME": "Vintry", "NONLD_AREA": 2.406, "WD24NM": "Walbrook", "crime_rate": 4.0, "is_high_crime": true, "median": 4.0}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
    geo_json_4b35a18aff1eeefe8fe20f03ed274cba.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = ["LSOA21CD", "LSOA21NM", "crime_rate"];
    let aliases = ["LSOA Code:", "LSOA Name:", "Median Crime Rate (from \"median\"):"];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{
  "sticky": true,
  "className": "foliumtooltip",
});
                     
    
            geo_json_4b35a18aff1eeefe8fe20f03ed274cba.addTo(map_a30486e0f722f0ec08fda56087f0607c);
        
    
            var feature_group_5a40b59f699d42ff4370bc12fa1fff7b = L.featureGroup(
                {
}
            );
        
    
            var marker_5f4f49dcf442a6f805b64ac4b64eaea9 = L.marker(
                [51.5122617, -0.0943201],
                {
}
            ).addTo(feature_group_5a40b59f699d42ff4370bc12fa1fff7b);
        
    
            var icon_85b7e5ed5e139ac0687029069e8cfe27 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_73bde3a29afa8e84cebe8b890c798367 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_6d6e05cb6cfe06ed5e0203f8daecb3e2 = $(`<div id="html_6d6e05cb6cfe06ed5e0203f8daecb3e2" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 1)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_73bde3a29afa8e84cebe8b890c798367.setContent(html_6d6e05cb6cfe06ed5e0203f8daecb3e2);
            
        

        marker_5f4f49dcf442a6f805b64ac4b64eaea9.bindPopup(popup_73bde3a29afa8e84cebe8b890c798367)
        ;

        
    
    
                marker_5f4f49dcf442a6f805b64ac4b64eaea9.setIcon(icon_85b7e5ed5e139ac0687029069e8cfe27);
            
    
            var marker_a23b73f76254a7ef0a4e55a7cb1610c9 = L.marker(
                [51.5122617, -0.0943201],
                {
}
            ).addTo(feature_group_5a40b59f699d42ff4370bc12fa1fff7b);
        
    
            var icon_cf492c67fe08efeb116e827bd9d3b5de = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_564c18dfd7f9cfacfb8b4a4c9897cf9b = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_c1ce6b05fd17282193bd51459d16747c = $(`<div id="html_c1ce6b05fd17282193bd51459d16747c" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 2)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_564c18dfd7f9cfacfb8b4a4c9897cf9b.setContent(html_c1ce6b05fd17282193bd51459d16747c);
            
        

        marker_a23b73f76254a7ef0a4e55a7cb1610c9.bindPopup(popup_564c18dfd7f9cfacfb8b4a4c9897cf9b)
        ;

        
    
    
                marker_a23b73f76254a7ef0a4e55a7cb1610c9.setIcon(icon_cf492c67fe08efeb116e827bd9d3b5de);
            
    
            var marker_87054c7928b6185137070103660a896b = L.marker(
                [51.5127641, -0.0956872],
                {
}
            ).addTo(feature_group_5a40b59f699d42ff4370bc12fa1fff7b);
        
    
            var icon_2e0fbd5ce692037d370b9874dcf5897f = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_c31017ea2c70dfcfca1a31a7284b3cbc = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_c105ead5c2c7b926e5e583a4f007bd92 = $(`<div id="html_c105ead5c2c7b926e5e583a4f007bd92" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 3)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_c31017ea2c70dfcfca1a31a7284b3cbc.setContent(html_c105ead5c2c7b926e5e583a4f007bd92);
            
        

        marker_87054c7928b6185137070103660a896b.bindPopup(popup_c31017ea2c70dfcfca1a31a7284b3cbc)
        ;

        
    
    
                marker_87054c7928b6185137070103660a896b.setIcon(icon_2e0fbd5ce692037d370b9874dcf5897f);
            
    
            var marker_fe551a932a563fdd9bc7c0d6246ad14e = L.marker(
                [51.5119765, -0.0957978],
                {
}
            ).addTo(feature_group_5a40b59f699d42ff4370bc12fa1fff7b);
        
    
            var icon_e25f141839236488c6b0f21dadcaa451 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_d459b6b6a8041e8bad8d3ddc757148a7 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_6d625f561235d077ba21a8156ba8171d = $(`<div id="html_6d625f561235d077ba21a8156ba8171d" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 4)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_d459b6b6a8041e8bad8d3ddc757148a7.setContent(html_6d625f561235d077ba21a8156ba8171d);
            
        

        marker_fe551a932a563fdd9bc7c0d6246ad14e.bindPopup(popup_d459b6b6a8041e8bad8d3ddc757148a7)
        ;

        
    
    
                marker_fe551a932a563fdd9bc7c0d6246ad14e.setIcon(icon_e25f141839236488c6b0f21dadcaa451);
            
    
            var marker_124923d20a7e0478352a17f9ad86d94f = L.marker(
                [51.5122617, -0.0943201],
                {
}
            ).addTo(feature_group_5a40b59f699d42ff4370bc12fa1fff7b);
        
    
            var icon_9ce9bd697c16080b476aac9fb689df78 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_17ebd506f2f178a880539fe4b62904d4 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_3806bf446bcbe595ad145063fd2e9975 = $(`<div id="html_3806bf446bcbe595ad145063fd2e9975" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 5)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_17ebd506f2f178a880539fe4b62904d4.setContent(html_3806bf446bcbe595ad145063fd2e9975);
            
        

        marker_124923d20a7e0478352a17f9ad86d94f.bindPopup(popup_17ebd506f2f178a880539fe4b62904d4)
        ;

        
    
    
                marker_124923d20a7e0478352a17f9ad86d94f.setIcon(icon_9ce9bd697c16080b476aac9fb689df78);
            
    
            feature_group_5a40b59f699d42ff4370bc12fa1fff7b.addTo(map_a30486e0f722f0ec08fda56087f0607c);
        
    
            var poly_line_ff8909f66e4d4a7406f5d090a9520cce = L.polyline(
                [[51.5122617, -0.0943201], [51.5121571, -0.094857], [51.5120639, -0.095345], [51.5119765, -0.0957978], [51.5127641, -0.0956872], [51.5119765, -0.0957978], [51.5120639, -0.095345], [51.5121571, -0.094857], [51.5122617, -0.0943201]],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "red", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.8, "smoothFactor": 1.0, "stroke": true, "weight": 5}
            ).addTo(map_a30486e0f722f0ec08fda56087f0607c);
        
    
            var layer_control_189a4b28227d9db09d340998b0bd6652_layers = {
                base_layers : {
                    "cartodbpositron" : tile_layer_e27f986c50ecb35c4afc8934514dc2af,
                },
                overlays :  {
                    "Vintry Boundary" : geo_json_417ac923263f7b1848cfa4afa0e07b2f,
                    "LSOA Median Crime Rates for Vintry" : geo_json_4b35a18aff1eeefe8fe20f03ed274cba,
                    "Patrol Waypoints" : feature_group_5a40b59f699d42ff4370bc12fa1fff7b,
                },
            };
            let layer_control_189a4b28227d9db09d340998b0bd6652 = L.control.layers(
                layer_control_189a4b28227d9db09d340998b0bd6652_layers.base_layers,
                layer_control_189a4b28227d9db09d340998b0bd6652_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_a30486e0f722f0ec08fda56087f0607c);

        
</script>
</html>