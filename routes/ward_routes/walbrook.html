<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_ccfb420b75f0c900879961bfb0a5fd99 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class="folium-map" id="map_ccfb420b75f0c900879961bfb0a5fd99" ></div>
        
</body>
<script>
    
    
            var map_ccfb420b75f0c900879961bfb0a5fd99 = L.map(
                "map_ccfb420b75f0c900879961bfb0a5fd99",
                {
                    center: [51.513619671744344, -0.08906093555446569],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_45fad8bbf6866aa1387abd14887d2b5e = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {
  "minZoom": 0,
  "maxZoom": 20,
  "maxNativeZoom": 20,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"https://carto.com/attributions\"\u003eCARTO\u003c/a\u003e",
  "subdomains": "abcd",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_45fad8bbf6866aa1387abd14887d2b5e.addTo(map_ccfb420b75f0c900879961bfb0a5fd99);
        
    
        function geo_json_6d50292091202ee408d262e0e3f2109c_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#cccccc", "fillOpacity": 0.1, "weight": 2};
            }
        }

        function geo_json_6d50292091202ee408d262e0e3f2109c_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_6d50292091202ee408d262e0e3f2109c = L.geoJson(null, {
                onEachFeature: geo_json_6d50292091202ee408d262e0e3f2109c_onEachFeature,
            
                style: geo_json_6d50292091202ee408d262e0e3f2109c_styler,
            ...{
}
        });

        function geo_json_6d50292091202ee408d262e0e3f2109c_add (data) {
            geo_json_6d50292091202ee408d262e0e3f2109c
                .addData(data);
        }
            geo_json_6d50292091202ee408d262e0e3f2109c_add({"features": [{"geometry": {"coordinates": [[[-0.08839497206673974, 51.51279035001912], [-0.08857790776679608, 51.512587370734096], [-0.08888980494805836, 51.51222736971221], [-0.08906410537410696, 51.51202334996902], [-0.08911176095929552, 51.51195220646252], [-0.08927979681143462, 51.51169054836787], [-0.08930974519112152, 51.51163080329861], [-0.08940993794269703, 51.511439959717], [-0.0902748419898147, 51.51160516785978], [-0.0907453303040663, 51.51169463676114], [-0.09050787082148071, 51.51220158235582], [-0.09020006808833661, 51.51270549415859], [-0.09011653623025952, 51.51284177073118], [-0.09018910124207831, 51.51286542734313], [-0.09050887311772414, 51.51297042280445], [-0.09065837782736717, 51.51315184747919], [-0.09015995631316007, 51.51328667327992], [-0.08974737063439753, 51.513397723050836], [-0.09014800613672641, 51.513467267416154], [-0.09118251543476119, 51.51364682732958], [-0.09086993094532954, 51.51433324965792], [-0.0918093049603324, 51.514443920275475], [-0.09141320304113268, 51.515024701286336], [-0.09111074586262949, 51.514985527240945], [-0.09044518676300686, 51.51490816725535], [-0.0900527148060506, 51.5148505338241], [-0.08929778654991348, 51.51473934797928], [-0.08894565172356647, 51.514717428905506], [-0.08891267039206761, 51.51471329551267], [-0.08866885731543267, 51.51468415056893], [-0.08834531069400388, 51.51466629155902], [-0.08787119940444604, 51.51463150320846], [-0.08755657227858064, 51.51467590828166], [-0.08687786569932564, 51.514810477441564], [-0.08605980416785018, 51.51489871775238], [-0.08570582482953976, 51.51488395084019], [-0.08549736666437928, 51.51483919434042], [-0.08611966435403634, 51.5143296390059], [-0.08641157677579316, 51.51410416829857], [-0.08720566419988483, 51.51393543377782], [-0.08804495468031927, 51.513717176736655], [-0.08866376445197133, 51.51353119096805], [-0.08871059101736678, 51.513513974076155], [-0.08896638662732022, 51.51339578843565], [-0.0886760925627092, 51.51337577508979], [-0.08753250890521241, 51.51332117335342], [-0.08694388993818235, 51.513336745804914], [-0.08694639528218648, 51.51314080476857], [-0.08696343076295165, 51.51311141564906], [-0.0869658215594073, 51.5129522418208], [-0.08696860675939043, 51.512885761280494], [-0.08706297940384351, 51.512763238604826], [-0.0870880115618939, 51.51275285888507], [-0.08714414922846811, 51.51268356260468], [-0.08745269731872035, 51.51278397830406], [-0.08750394993465843, 51.51280009705195], [-0.08751535548113151, 51.51280298003311], [-0.08800400012116474, 51.51293860491372], [-0.08804950973503435, 51.512952831798465], [-0.08813782957602641, 51.51297764551413], [-0.08820723699528756, 51.51300574688278], [-0.0884326486247894, 51.51309671379476], [-0.08859713156326798, 51.513161425445915], [-0.08869085516122684, 51.51315935682422], [-0.08865739012708064, 51.51313274048524], [-0.08839497206673974, 51.51279035001912]]], "type": "Polygon"}, "id": "649", "properties": {"DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009312", "HECTARES": 7.474, "LAGSSCODE": "E09000001", "NAME": "Walbrook", "NONLD_AREA": 0.0, "_normalized_name": "walbrook"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_6d50292091202ee408d262e0e3f2109c.addTo(map_ccfb420b75f0c900879961bfb0a5fd99);
        
    
        function geo_json_1e1ef9646580759a53d8977c0b87077e_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#fd8c3c", "fillOpacity": 0.7, "weight": 0.5};
            }
        }

        function geo_json_1e1ef9646580759a53d8977c0b87077e_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_1e1ef9646580759a53d8977c0b87077e = L.geoJson(null, {
                onEachFeature: geo_json_1e1ef9646580759a53d8977c0b87077e_onEachFeature,
            
                style: geo_json_1e1ef9646580759a53d8977c0b87077e_styler,
            ...{
}
        });

        function geo_json_1e1ef9646580759a53d8977c0b87077e_add (data) {
            geo_json_1e1ef9646580759a53d8977c0b87077e
                .addData(data);
        }
            geo_json_1e1ef9646580759a53d8977c0b87077e_add({"features": [{"geometry": {"coordinates": [[[[-0.07737099887417906, 51.517396019685506], [-0.07847157603218013, 51.521509887038206], [-0.08521839623899545, 51.52033385874817], [-0.08812915078150328, 51.51941071951071], [-0.09548113459525202, 51.51544001964419], [-0.09974880246315052, 51.516767594555155], [-0.10399462243365584, 51.51077938121521], [-0.09990284589579006, 51.51075114610646], [-0.09935578694134153, 51.5106766498334], [-0.09635884004862084, 51.51026848854436], [-0.09525988733101633, 51.51011879806548], [-0.09232213738951378, 51.50947573722671], [-0.09198839045879534, 51.50940267591846], [-0.0886035773016867, 51.508922602589735], [-0.08548097709594062, 51.50859612613123], [-0.0851724254980519, 51.50856149069807], [-0.08118153259906154, 51.508113430942245], [-0.08040208006001062, 51.5080259042259], [-0.07937941404664732, 51.50784275606517], [-0.07915975007908169, 51.50778683430267], [-0.07617255031926315, 51.5104769637077], [-0.08003605823182643, 51.51567348944954], [-0.07737099887417906, 51.517396019685506]]]], "type": "MultiPolygon"}, "id": "0", "properties": {"BNG_E": 532920, "BNG_N": 181297, "DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009312", "GlobalID": "{94762C09-73CF-4426-BA0D-E0D96EDFB7F5}", "HECTARES": 7.474, "LAGSSCODE": "E09000001", "LAT": 51.51496887207031, "LONG": -0.0857900008559227, "LSOA21CD": "E01032739", "LSOA21NM": "City of London 001F", "LSOA21NMW": " ", "NAME": "Walbrook", "NONLD_AREA": 0.0, "WD24NM": "Walbrook", "_normalized_name": "walbrook", "crime_rate": 20.0, "is_high_crime": true, "median": 20.0}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
    geo_json_1e1ef9646580759a53d8977c0b87077e.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature => {
        if (feature === null) {
            return '';
        } else if (typeof(feature)=='object') {
            return JSON.stringify(feature);
        } else {
            return feature;
        }
    }
    let fields = ["LSOA21CD", "LSOA21NM", "crime_rate"];
    let aliases = ["LSOA Code:", "LSOA Name:", "Median Crime Rate (from \"median\"):"];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{
  "sticky": true,
  "className": "foliumtooltip",
});
                     
    
            geo_json_1e1ef9646580759a53d8977c0b87077e.addTo(map_ccfb420b75f0c900879961bfb0a5fd99);
        
    
            var feature_group_114a886610f354d436b9dd96ff05e5f6 = L.featureGroup(
                {
}
            );
        
    
            var marker_5aca7a19a8be2feb85e967b150e2536b = L.marker(
                [51.5136522, -0.0911542],
                {
}
            ).addTo(feature_group_114a886610f354d436b9dd96ff05e5f6);
        
    
            var icon_16e8f4e10eb829476facb998fa04c907 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_2b856be708c95d91c6c837678b9a3a06 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_85987673d64048782a2931a4d450097d = $(`<div id="html_85987673d64048782a2931a4d450097d" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Guaranteed Pt)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_2b856be708c95d91c6c837678b9a3a06.setContent(html_85987673d64048782a2931a4d450097d);
            
        

        marker_5aca7a19a8be2feb85e967b150e2536b.bindPopup(popup_2b856be708c95d91c6c837678b9a3a06)
        ;

        
    
    
                marker_5aca7a19a8be2feb85e967b150e2536b.setIcon(icon_16e8f4e10eb829476facb998fa04c907);
            
    
            var marker_de1ae624e88ad3ba0e8bd886c7b60e80 = L.marker(
                [51.5134058, -0.0889457],
                {
}
            ).addTo(feature_group_114a886610f354d436b9dd96ff05e5f6);
        
    
            var icon_75d5da289c5dea17c1202f5506c9c2dd = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_3e56903af31356979e8e51f396581233 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_46043732a9b41866df168d5cd9178f6d = $(`<div id="html_46043732a9b41866df168d5cd9178f6d" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Addl Pt 1)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_3e56903af31356979e8e51f396581233.setContent(html_46043732a9b41866df168d5cd9178f6d);
            
        

        marker_de1ae624e88ad3ba0e8bd886c7b60e80.bindPopup(popup_3e56903af31356979e8e51f396581233)
        ;

        
    
    
                marker_de1ae624e88ad3ba0e8bd886c7b60e80.setIcon(icon_75d5da289c5dea17c1202f5506c9c2dd);
            
    
            var marker_f1a25b3b177b01f8427ca2b82692bd10 = L.marker(
                [51.5135658, -0.0906718],
                {
}
            ).addTo(feature_group_114a886610f354d436b9dd96ff05e5f6);
        
    
            var icon_15050efebdd2633bbf74c41f32d9fbfb = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_54e631d7275424071ba24f525628d5ca = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_de5912ae4b1bcf5bbbef89720957fe2f = $(`<div id="html_de5912ae4b1bcf5bbbef89720957fe2f" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Addl Pt 2)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_54e631d7275424071ba24f525628d5ca.setContent(html_de5912ae4b1bcf5bbbef89720957fe2f);
            
        

        marker_f1a25b3b177b01f8427ca2b82692bd10.bindPopup(popup_54e631d7275424071ba24f525628d5ca)
        ;

        
    
    
                marker_f1a25b3b177b01f8427ca2b82692bd10.setIcon(icon_15050efebdd2633bbf74c41f32d9fbfb);
            
    
            var marker_4c96d9516020f2b6a805475ff020bd2a = L.marker(
                [51.5136522, -0.0911542],
                {
}
            ).addTo(feature_group_114a886610f354d436b9dd96ff05e5f6);
        
    
            var icon_ea21b93579b07356bc8a24bff9d926ca = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_68fd900ebe6f1f34296df390c0ea1341 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_de6ced791d73c4bd6dacabf6776899df = $(`<div id="html_de6ced791d73c4bd6dacabf6776899df" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Addl Pt 3)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_68fd900ebe6f1f34296df390c0ea1341.setContent(html_de6ced791d73c4bd6dacabf6776899df);
            
        

        marker_4c96d9516020f2b6a805475ff020bd2a.bindPopup(popup_68fd900ebe6f1f34296df390c0ea1341)
        ;

        
    
    
                marker_4c96d9516020f2b6a805475ff020bd2a.setIcon(icon_ea21b93579b07356bc8a24bff9d926ca);
            
    
            var marker_6a9482b85ffbe20e507df50a97006a4f = L.marker(
                [51.5140242, -0.0903239],
                {
}
            ).addTo(feature_group_114a886610f354d436b9dd96ff05e5f6);
        
    
            var icon_bc15838bb2e7d851a1b79beb2eec1fb3 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_d7e7dfa2ff81a6bef849a4f4f5a8a0bf = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_7ce4b869bc01dc3430fe5fc8435686ef = $(`<div id="html_7ce4b869bc01dc3430fe5fc8435686ef" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Addl Pt 4)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_d7e7dfa2ff81a6bef849a4f4f5a8a0bf.setContent(html_7ce4b869bc01dc3430fe5fc8435686ef);
            
        

        marker_6a9482b85ffbe20e507df50a97006a4f.bindPopup(popup_d7e7dfa2ff81a6bef849a4f4f5a8a0bf)
        ;

        
    
    
                marker_6a9482b85ffbe20e507df50a97006a4f.setIcon(icon_bc15838bb2e7d851a1b79beb2eec1fb3);
            
    
            feature_group_114a886610f354d436b9dd96ff05e5f6.addTo(map_ccfb420b75f0c900879961bfb0a5fd99);
        
    
            var poly_line_b63c877942f16c35837fc348629fb144 = L.polyline(
                [[51.5136522, -0.0911542], [51.5135658, -0.0906718], [51.5140242, -0.0903239], [51.5135658, -0.0906718], [51.5134009, -0.0897462], [51.5134058, -0.0889457], [51.5134009, -0.0897462], [51.5135658, -0.0906718], [51.5136522, -0.0911542]],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "red", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.8, "smoothFactor": 1.0, "stroke": true, "weight": 5}
            ).addTo(map_ccfb420b75f0c900879961bfb0a5fd99);
        
    
            var layer_control_d542e83a4e9604c130322e3eee135b63_layers = {
                base_layers : {
                    "cartodbpositron" : tile_layer_45fad8bbf6866aa1387abd14887d2b5e,
                },
                overlays :  {
                    "Walbrook Boundary" : geo_json_6d50292091202ee408d262e0e3f2109c,
                    "LSOA Median Crime Rates for Walbrook" : geo_json_1e1ef9646580759a53d8977c0b87077e,
                    "Patrol Waypoints" : feature_group_114a886610f354d436b9dd96ff05e5f6,
                },
            };
            let layer_control_d542e83a4e9604c130322e3eee135b63 = L.control.layers(
                layer_control_d542e83a4e9604c130322e3eee135b63_layers.base_layers,
                layer_control_d542e83a4e9604c130322e3eee135b63_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_ccfb420b75f0c900879961bfb0a5fd99);

        
</script>
</html>