<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_63c69ee27140ee228d41dc86ed4d1e9d {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class="folium-map" id="map_63c69ee27140ee228d41dc86ed4d1e9d" ></div>
        
</body>
<script>
    
    
            var map_63c69ee27140ee228d41dc86ed4d1e9d = L.map(
                "map_63c69ee27140ee228d41dc86ed4d1e9d",
                {
                    center: [51.513619671744344, -0.0890609355544657],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_1cb29230ecb66710432f0f0ab7c9e69e = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {
  "minZoom": 0,
  "maxZoom": 20,
  "maxNativeZoom": 20,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"https://carto.com/attributions\"\u003eCARTO\u003c/a\u003e",
  "subdomains": "abcd",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_1cb29230ecb66710432f0f0ab7c9e69e.addTo(map_63c69ee27140ee228d41dc86ed4d1e9d);
        
    
        function geo_json_38068767016ca4924bfec70dd1032f92_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#cccccc", "fillOpacity": 0.1, "weight": 2};
            }
        }

        function geo_json_38068767016ca4924bfec70dd1032f92_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_38068767016ca4924bfec70dd1032f92 = L.geoJson(null, {
                onEachFeature: geo_json_38068767016ca4924bfec70dd1032f92_onEachFeature,
            
                style: geo_json_38068767016ca4924bfec70dd1032f92_styler,
            ...{
}
        });

        function geo_json_38068767016ca4924bfec70dd1032f92_add (data) {
            geo_json_38068767016ca4924bfec70dd1032f92
                .addData(data);
        }
            geo_json_38068767016ca4924bfec70dd1032f92_add({"features": [{"geometry": {"coordinates": [[[-0.08839497206673974, 51.51279035001912], [-0.08857790776679607, 51.51258737073409], [-0.08888980494805836, 51.51222736971221], [-0.08906410537410696, 51.51202334996903], [-0.0891117609592955, 51.51195220646251], [-0.08927979681143462, 51.51169054836787], [-0.0893097451911215, 51.51163080329861], [-0.08940993794269701, 51.511439959717], [-0.0902748419898147, 51.51160516785979], [-0.09074533030406629, 51.51169463676114], [-0.0905078708214807, 51.51220158235582], [-0.09020006808833661, 51.512705494158595], [-0.0901165362302595, 51.51284177073117], [-0.09018910124207831, 51.51286542734314], [-0.09050887311772414, 51.51297042280445], [-0.09065837782736716, 51.51315184747919], [-0.09015995631316007, 51.513286673279914], [-0.08974737063439754, 51.51339772305084], [-0.09014800613672642, 51.51346726741616], [-0.09118251543476119, 51.51364682732958], [-0.09086993094532954, 51.51433324965792], [-0.0918093049603324, 51.51444392027547], [-0.09141320304113268, 51.515024701286336], [-0.09111074586262949, 51.514985527240945], [-0.09044518676300688, 51.51490816725535], [-0.0900527148060506, 51.5148505338241], [-0.08929778654991348, 51.51473934797927], [-0.08894565172356646, 51.5147174289055], [-0.08891267039206761, 51.51471329551267], [-0.08866885731543268, 51.51468415056893], [-0.08834531069400388, 51.51466629155901], [-0.08787119940444604, 51.51463150320846], [-0.08755657227858064, 51.51467590828166], [-0.08687786569932562, 51.514810477441564], [-0.08605980416785018, 51.51489871775239], [-0.08570582482953976, 51.5148839508402], [-0.08549736666437928, 51.51483919434042], [-0.08611966435403634, 51.5143296390059], [-0.08641157677579314, 51.51410416829857], [-0.08720566419988483, 51.513935433777824], [-0.08804495468031928, 51.51371717673666], [-0.08866376445197131, 51.51353119096805], [-0.08871059101736678, 51.513513974076155], [-0.0889663866273202, 51.51339578843565], [-0.08867609256270918, 51.51337577508979], [-0.08753250890521243, 51.513321173353425], [-0.08694388993818235, 51.513336745804914], [-0.08694639528218649, 51.51314080476857], [-0.08696343076295167, 51.51311141564904], [-0.0869658215594073, 51.5129522418208], [-0.08696860675939044, 51.512885761280494], [-0.08706297940384353, 51.512763238604826], [-0.0870880115618939, 51.51275285888508], [-0.08714414922846811, 51.51268356260468], [-0.08745269731872034, 51.51278397830405], [-0.08750394993465842, 51.51280009705195], [-0.08751535548113153, 51.51280298003311], [-0.08800400012116474, 51.51293860491372], [-0.08804950973503435, 51.512952831798465], [-0.08813782957602642, 51.51297764551413], [-0.08820723699528756, 51.513005746882776], [-0.0884326486247894, 51.51309671379476], [-0.088597131563268, 51.513161425445915], [-0.08869085516122684, 51.51315935682422], [-0.08865739012708064, 51.51313274048523], [-0.08839497206673974, 51.51279035001912]]], "type": "Polygon"}, "id": "649", "properties": {"DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009312", "HECTARES": 7.474, "LAGSSCODE": "E09000001", "NAME": "Walbrook", "NONLD_AREA": 0.0}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_38068767016ca4924bfec70dd1032f92.addTo(map_63c69ee27140ee228d41dc86ed4d1e9d);
        
    
        function geo_json_38562bcef69bb1040daaca531bf675d3_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#fd8c3c", "fillOpacity": 0.7, "weight": 0.5};
            }
        }

        function geo_json_38562bcef69bb1040daaca531bf675d3_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_38562bcef69bb1040daaca531bf675d3 = L.geoJson(null, {
                onEachFeature: geo_json_38562bcef69bb1040daaca531bf675d3_onEachFeature,
            
                style: geo_json_38562bcef69bb1040daaca531bf675d3_styler,
            ...{
}
        });

        function geo_json_38562bcef69bb1040daaca531bf675d3_add (data) {
            geo_json_38562bcef69bb1040daaca531bf675d3
                .addData(data);
        }
            geo_json_38562bcef69bb1040daaca531bf675d3_add({"features": [{"geometry": {"coordinates": [[[[-0.07737099887417906, 51.517396019685506], [-0.07847157603218012, 51.5215098870382], [-0.08521839623899545, 51.52033385874817], [-0.08812915078150328, 51.51941071951071], [-0.09548113459525204, 51.51544001964419], [-0.09974880246315052, 51.51676759455516], [-0.10399462243365584, 51.51077938121521], [-0.09990284589579007, 51.51075114610646], [-0.09935578694134153, 51.51067664983341], [-0.09635884004862082, 51.510268488544355], [-0.09525988733101631, 51.51011879806548], [-0.09232213738951378, 51.50947573722671], [-0.09198839045879534, 51.50940267591846], [-0.0886035773016867, 51.50892260258973], [-0.08548097709594062, 51.50859612613124], [-0.0851724254980519, 51.50856149069807], [-0.08118153259906154, 51.508113430942245], [-0.08040208006001064, 51.5080259042259], [-0.07937941404664733, 51.50784275606517], [-0.0791597500790817, 51.50778683430268], [-0.07617255031926315, 51.5104769637077], [-0.08003605823182643, 51.515673489449554], [-0.07737099887417906, 51.517396019685506]]]], "type": "MultiPolygon"}, "id": "0", "properties": {"BNG_E": 532920, "BNG_N": 181297, "DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009312", "GlobalID": "{94762C09-73CF-4426-BA0D-E0D96EDFB7F5}", "HECTARES": 7.474, "LAGSSCODE": "E09000001", "LAT": 51.51496887207031, "LONG": -0.0857900008559227, "LSOA21CD": "E01032739", "LSOA21NM": "City of London 001F", "LSOA21NMW": " ", "NAME": "Walbrook", "NONLD_AREA": 0.0, "WD24NM": "Walbrook", "crime_rate": 4.0, "is_high_crime": true, "median": 4.0}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
    geo_json_38562bcef69bb1040daaca531bf675d3.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = ["LSOA21CD", "LSOA21NM", "crime_rate"];
    let aliases = ["LSOA Code:", "LSOA Name:", "Median Crime Rate (from \"median\"):"];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{
  "sticky": true,
  "className": "foliumtooltip",
});
                     
    
            geo_json_38562bcef69bb1040daaca531bf675d3.addTo(map_63c69ee27140ee228d41dc86ed4d1e9d);
        
    
            var feature_group_16ed4bb083bf690933a409527ed4a57c = L.featureGroup(
                {
}
            );
        
    
            var marker_2df50d663d8aecae731b8d47289a8627 = L.marker(
                [51.5134058, -0.0889457],
                {
}
            ).addTo(feature_group_16ed4bb083bf690933a409527ed4a57c);
        
    
            var icon_8dafecd52212c1c3df98868943cba326 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_0cccf06707d67747f7f56dcab894b81b = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_1c08c72301d0c9a49e418d70b761a3a7 = $(`<div id="html_1c08c72301d0c9a49e418d70b761a3a7" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 1)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_0cccf06707d67747f7f56dcab894b81b.setContent(html_1c08c72301d0c9a49e418d70b761a3a7);
            
        

        marker_2df50d663d8aecae731b8d47289a8627.bindPopup(popup_0cccf06707d67747f7f56dcab894b81b)
        ;

        
    
    
                marker_2df50d663d8aecae731b8d47289a8627.setIcon(icon_8dafecd52212c1c3df98868943cba326);
            
    
            var marker_bb8075ab5f52388d77c327582d303efc = L.marker(
                [51.5134058, -0.0889457],
                {
}
            ).addTo(feature_group_16ed4bb083bf690933a409527ed4a57c);
        
    
            var icon_1cd81fbd8d9e590ebb893b4781bd1839 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_219a35db7e5d749dc74bcb8b1445fb24 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_376569a406c0bdd6f200595a310c5d4c = $(`<div id="html_376569a406c0bdd6f200595a310c5d4c" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 2)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_219a35db7e5d749dc74bcb8b1445fb24.setContent(html_376569a406c0bdd6f200595a310c5d4c);
            
        

        marker_bb8075ab5f52388d77c327582d303efc.bindPopup(popup_219a35db7e5d749dc74bcb8b1445fb24)
        ;

        
    
    
                marker_bb8075ab5f52388d77c327582d303efc.setIcon(icon_1cd81fbd8d9e590ebb893b4781bd1839);
            
    
            var marker_641590ee43ef129e972bd1edbdcff528 = L.marker(
                [51.5136522, -0.0911542],
                {
}
            ).addTo(feature_group_16ed4bb083bf690933a409527ed4a57c);
        
    
            var icon_05ba5453db8b98cfd39d6766dc196f99 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_6521e6506c1d025bbfb952e99485f001 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_c92b9d6ab165a553f66a19e925eb3576 = $(`<div id="html_c92b9d6ab165a553f66a19e925eb3576" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 3)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_6521e6506c1d025bbfb952e99485f001.setContent(html_c92b9d6ab165a553f66a19e925eb3576);
            
        

        marker_641590ee43ef129e972bd1edbdcff528.bindPopup(popup_6521e6506c1d025bbfb952e99485f001)
        ;

        
    
    
                marker_641590ee43ef129e972bd1edbdcff528.setIcon(icon_05ba5453db8b98cfd39d6766dc196f99);
            
    
            var marker_d3aab06083cef289012c0584b17ece01 = L.marker(
                [51.5134058, -0.0889457],
                {
}
            ).addTo(feature_group_16ed4bb083bf690933a409527ed4a57c);
        
    
            var icon_ca99f5095e82ec47be998bd1f35e140a = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_5e1f0448f394cb58b62d14604f5013a9 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_167136fd26e7b2292aac5a88fa16a2b7 = $(`<div id="html_167136fd26e7b2292aac5a88fa16a2b7" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 4)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_5e1f0448f394cb58b62d14604f5013a9.setContent(html_167136fd26e7b2292aac5a88fa16a2b7);
            
        

        marker_d3aab06083cef289012c0584b17ece01.bindPopup(popup_5e1f0448f394cb58b62d14604f5013a9)
        ;

        
    
    
                marker_d3aab06083cef289012c0584b17ece01.setIcon(icon_ca99f5095e82ec47be998bd1f35e140a);
            
    
            var marker_28091706134ede6d3c27b2fcc38d447e = L.marker(
                [51.5134058, -0.0889457],
                {
}
            ).addTo(feature_group_16ed4bb083bf690933a409527ed4a57c);
        
    
            var icon_d9438b04d56309b4b10db3d952e1f716 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_22ad5b52e52687408b94025284e07223 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_8e8e790310b811849d44f78cdac314ec = $(`<div id="html_8e8e790310b811849d44f78cdac314ec" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 5)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_22ad5b52e52687408b94025284e07223.setContent(html_8e8e790310b811849d44f78cdac314ec);
            
        

        marker_28091706134ede6d3c27b2fcc38d447e.bindPopup(popup_22ad5b52e52687408b94025284e07223)
        ;

        
    
    
                marker_28091706134ede6d3c27b2fcc38d447e.setIcon(icon_d9438b04d56309b4b10db3d952e1f716);
            
    
            feature_group_16ed4bb083bf690933a409527ed4a57c.addTo(map_63c69ee27140ee228d41dc86ed4d1e9d);
        
    
            var poly_line_71f8df505e82b9b2344ab7295c23d3dd = L.polyline(
                [[51.5134058, -0.0889457], [51.5134009, -0.0897462], [51.5135658, -0.0906718], [51.5136522, -0.0911542], [51.5135658, -0.0906718], [51.5134009, -0.0897462], [51.5134058, -0.0889457]],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "red", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.8, "smoothFactor": 1.0, "stroke": true, "weight": 5}
            ).addTo(map_63c69ee27140ee228d41dc86ed4d1e9d);
        
    
            var layer_control_9fe6080a133ad626f464064ce86aa83f_layers = {
                base_layers : {
                    "cartodbpositron" : tile_layer_1cb29230ecb66710432f0f0ab7c9e69e,
                },
                overlays :  {
                    "Walbrook Boundary" : geo_json_38068767016ca4924bfec70dd1032f92,
                    "LSOA Median Crime Rates for Walbrook" : geo_json_38562bcef69bb1040daaca531bf675d3,
                    "Patrol Waypoints" : feature_group_16ed4bb083bf690933a409527ed4a57c,
                },
            };
            let layer_control_9fe6080a133ad626f464064ce86aa83f = L.control.layers(
                layer_control_9fe6080a133ad626f464064ce86aa83f_layers.base_layers,
                layer_control_9fe6080a133ad626f464064ce86aa83f_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_63c69ee27140ee228d41dc86ed4d1e9d);

        
</script>
</html>