<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_64481b22c16ed88de166a1cb7a4c623c {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class="folium-map" id="map_64481b22c16ed88de166a1cb7a4c623c" ></div>
        
</body>
<script>
    
    
            var map_64481b22c16ed88de166a1cb7a4c623c = L.map(
                "map_64481b22c16ed88de166a1cb7a4c623c",
                {
                    center: [51.51838410771327, -0.08111050017800528],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_73775c08d79ae4728dacb8f21f92770e = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {
  "minZoom": 0,
  "maxZoom": 20,
  "maxNativeZoom": 20,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"https://carto.com/attributions\"\u003eCARTO\u003c/a\u003e",
  "subdomains": "abcd",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_73775c08d79ae4728dacb8f21f92770e.addTo(map_64481b22c16ed88de166a1cb7a4c623c);
        
    
        function geo_json_97149f6a644cace4cc6c537dc28738a4_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#cccccc", "fillOpacity": 0.1, "weight": 2};
            }
        }

        function geo_json_97149f6a644cace4cc6c537dc28738a4_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_97149f6a644cace4cc6c537dc28738a4 = L.geoJson(null, {
                onEachFeature: geo_json_97149f6a644cace4cc6c537dc28738a4_onEachFeature,
            
                style: geo_json_97149f6a644cace4cc6c537dc28738a4_styler,
            ...{
}
        });

        function geo_json_97149f6a644cace4cc6c537dc28738a4_add (data) {
            geo_json_97149f6a644cace4cc6c537dc28738a4
                .addData(data);
        }
            geo_json_97149f6a644cace4cc6c537dc28738a4_add({"features": [{"geometry": {"coordinates": [[[-0.08356455001803692, 51.516384923431936], [-0.08333841080018653, 51.51699902066485], [-0.08323688945506812, 51.517254565366976], [-0.08312871529577269, 51.51756663821346], [-0.08446598294451632, 51.517780062380695], [-0.08444357715738218, 51.517798575439016], [-0.08443903228091602, 51.5178020972097], [-0.08443310566098607, 51.51780739441212], [-0.08438829401470309, 51.517844420511], [-0.08433469975093716, 51.517884000146715], [-0.08427664155468857, 51.51792800184397], [-0.0842034216199114, 51.517990634847926], [-0.08418022393192998, 51.518028013905365], [-0.08418493865962666, 51.51808841376291], [-0.08421310392501735, 51.51817337973529], [-0.08425947714639964, 51.51820110714976], [-0.08431436915678553, 51.51823256967867], [-0.08504128785098117, 51.51842612780214], [-0.08549137565081305, 51.518555739221654], [-0.08593290942448754, 51.51868251230548], [-0.08600363241613017, 51.51871342327617], [-0.08617785001700387, 51.51878728700852], [-0.08622745774423944, 51.51880877341585], [-0.08590462660933541, 51.51928905479957], [-0.08581374950964203, 51.519427006447096], [-0.08555614489434987, 51.51983103744992], [-0.08537645441327639, 51.52012845989552], [-0.08521782626483355, 51.52033452803316], [-0.0833255079336797, 51.5198143856123], [-0.08273392782207051, 51.52006821369664], [-0.0823256934817572, 51.520314248601025], [-0.08201724526270651, 51.520555620867796], [-0.08179504655814414, 51.52073268605587], [-0.08176227877361014, 51.5207573221416], [-0.08154935770264686, 51.52102183141383], [-0.08128419699253275, 51.52143202261618], [-0.08105036963239003, 51.521953392630614], [-0.08075902558649507, 51.52188929187568], [-0.07976927240893057, 51.52167072791989], [-0.07847140526262401, 51.521510128192936], [-0.0787305773967851, 51.52103952224745], [-0.07881098253092277, 51.52073868554898], [-0.07884320242904207, 51.52065650533788], [-0.07884054107379071, 51.52065196674946], [-0.07898999333043707, 51.52011393606681], [-0.07917355569653792, 51.519451502836716], [-0.07942974567115063, 51.51884509752556], [-0.07833443623935914, 51.518945016169624], [-0.07808259503613545, 51.51896785977722], [-0.07804812552737508, 51.51848525123937], [-0.07814685956727771, 51.518468889086535], [-0.07796580474845398, 51.51825007240181], [-0.07780314698211686, 51.518108061817415], [-0.07773412900916993, 51.51803680870187], [-0.07768626625996493, 51.517973993268214], [-0.07765241663914567, 51.51788884258611], [-0.0776433056324182, 51.51786531925825], [-0.07740296195183459, 51.51744595188456], [-0.07737048415925207, 51.5173959744999], [-0.07691808727273444, 51.51670693587173], [-0.07687686943503554, 51.516658523135035], [-0.07791264093499219, 51.51581497863795], [-0.0780380018827916, 51.51581523496306], [-0.07845706255718292, 51.51603156829831], [-0.07849228897965102, 51.51605012541583], [-0.07907988554480044, 51.515579594478865], [-0.07909782826822266, 51.51556550433898], [-0.07944818357675947, 51.51576821276477], [-0.07978655420638128, 51.515535428085165], [-0.07994654494520914, 51.51543277441526], [-0.0799867426188253, 51.51540376546267], [-0.08034230985656124, 51.515618243524564], [-0.08056651338873941, 51.51573788386997], [-0.08079822168825668, 51.51581188748369], [-0.08105845746324704, 51.5158970554731], [-0.08105984475650797, 51.51589797717041], [-0.08109835704177441, 51.515838374270025], [-0.0811738522554608, 51.5157244475105], [-0.08136336797615223, 51.51560348585238], [-0.08130918888954067, 51.51558911455827], [-0.08132661195310703, 51.51555343958293], [-0.08123791346424915, 51.515537604557], [-0.08107184695582878, 51.51551061467946], [-0.08101034860996045, 51.51549792149575], [-0.08105086126518536, 51.51542747343859], [-0.08111081573830485, 51.51544014134302], [-0.08114955408886038, 51.51537514812329], [-0.0810124961989038, 51.51534503674223], [-0.08091674310866845, 51.515324591046245], [-0.08100928776537268, 51.51514711435373], [-0.08104055557427212, 51.515087392938256], [-0.08111064677813255, 51.51510202469496], [-0.08112310963615688, 51.51507975359494], [-0.08117162022309243, 51.51509043624313], [-0.08121216074066565, 51.51501648248541], [-0.08220890842412334, 51.51523784667302], [-0.08249618406133312, 51.515363908603604], [-0.08229759574572358, 51.51559628960581], [-0.08196425460195723, 51.51588220469323], [-0.08166359274578554, 51.51614258235118], [-0.08169372427655834, 51.51614667117068], [-0.08308138320236728, 51.51632488574996], [-0.08356455001803692, 51.516384923431936]]], "type": "Polygon"}, "id": "638", "properties": {"DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009292", "HECTARES": 25.385, "LAGSSCODE": "E09000001", "NAME": "Bishopsgate", "NONLD_AREA": 0.0}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_97149f6a644cace4cc6c537dc28738a4.addTo(map_64481b22c16ed88de166a1cb7a4c623c);
        
    
        function geo_json_e9c5fad96e82e8a806abc5f747a2d1af_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#fd8c3c", "fillOpacity": 0.7, "weight": 0.5};
            }
        }

        function geo_json_e9c5fad96e82e8a806abc5f747a2d1af_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_e9c5fad96e82e8a806abc5f747a2d1af = L.geoJson(null, {
                onEachFeature: geo_json_e9c5fad96e82e8a806abc5f747a2d1af_onEachFeature,
            
                style: geo_json_e9c5fad96e82e8a806abc5f747a2d1af_styler,
            ...{
}
        });

        function geo_json_e9c5fad96e82e8a806abc5f747a2d1af_add (data) {
            geo_json_e9c5fad96e82e8a806abc5f747a2d1af
                .addData(data);
        }
            geo_json_e9c5fad96e82e8a806abc5f747a2d1af_add({"features": [{"geometry": {"coordinates": [[[[-0.07737099887417906, 51.517396019685506], [-0.07847157603218012, 51.5215098870382], [-0.08521839623899545, 51.52033385874817], [-0.08812915078150328, 51.51941071951071], [-0.09548113459525204, 51.51544001964419], [-0.09974880246315052, 51.51676759455516], [-0.10399462243365584, 51.51077938121521], [-0.09990284589579007, 51.51075114610646], [-0.09935578694134153, 51.51067664983341], [-0.09635884004862082, 51.510268488544355], [-0.09525988733101631, 51.51011879806548], [-0.09232213738951378, 51.50947573722671], [-0.09198839045879534, 51.50940267591846], [-0.0886035773016867, 51.50892260258973], [-0.08548097709594062, 51.50859612613124], [-0.0851724254980519, 51.50856149069807], [-0.08118153259906154, 51.508113430942245], [-0.08040208006001064, 51.5080259042259], [-0.07937941404664733, 51.50784275606517], [-0.0791597500790817, 51.50778683430268], [-0.07617255031926315, 51.5104769637077], [-0.08003605823182643, 51.515673489449554], [-0.07737099887417906, 51.517396019685506]]]], "type": "MultiPolygon"}, "id": "31058", "properties": {"BNG_E": 532920, "BNG_N": 181297, "DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009292", "GlobalID": "{94762C09-73CF-4426-BA0D-E0D96EDFB7F5}", "HECTARES": 25.385, "LAGSSCODE": "E09000001", "LAT": 51.51496887207031, "LONG": -0.0857900008559227, "LSOA21CD": "E01032739", "LSOA21NM": "City of London 001F", "LSOA21NMW": " ", "NAME": "Bishopsgate", "NONLD_AREA": 0.0, "WD24NM": "Walbrook", "crime_rate": 4.0, "is_high_crime": true, "median": 4.0}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
    geo_json_e9c5fad96e82e8a806abc5f747a2d1af.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = ["LSOA21CD", "LSOA21NM", "crime_rate"];
    let aliases = ["LSOA Code:", "LSOA Name:", "Median Crime Rate (from \"median\"):"];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{
  "sticky": true,
  "className": "foliumtooltip",
});
                     
    
            geo_json_e9c5fad96e82e8a806abc5f747a2d1af.addTo(map_64481b22c16ed88de166a1cb7a4c623c);
        
    
            var feature_group_346ff97fefd9c9cec40667186b10aca6 = L.featureGroup(
                {
}
            );
        
    
            var marker_3b4c8d8be61cf43bd6da3edc1472abab = L.marker(
                [51.5161575, -0.0815592],
                {
}
            ).addTo(feature_group_346ff97fefd9c9cec40667186b10aca6);
        
    
            var icon_f250e0d9487c260df4491d014c53bf7d = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_a97d3cd5a829c4bd73631c03264c9d73 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_98eed8d34fccc50628a1afede616724c = $(`<div id="html_98eed8d34fccc50628a1afede616724c" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 1)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_a97d3cd5a829c4bd73631c03264c9d73.setContent(html_98eed8d34fccc50628a1afede616724c);
            
        

        marker_3b4c8d8be61cf43bd6da3edc1472abab.bindPopup(popup_a97d3cd5a829c4bd73631c03264c9d73)
        ;

        
    
    
                marker_3b4c8d8be61cf43bd6da3edc1472abab.setIcon(icon_f250e0d9487c260df4491d014c53bf7d);
            
    
            var marker_f94189e5c4d2e8d823092eabe0d65129 = L.marker(
                [51.5161575, -0.0815592],
                {
}
            ).addTo(feature_group_346ff97fefd9c9cec40667186b10aca6);
        
    
            var icon_2ada63b65bbbbf9565b7931fd8b04067 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_50d5bf131462947848832c9568c341e6 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_19279eb9c9120c31e5a528e679df12c7 = $(`<div id="html_19279eb9c9120c31e5a528e679df12c7" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 2)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_50d5bf131462947848832c9568c341e6.setContent(html_19279eb9c9120c31e5a528e679df12c7);
            
        

        marker_f94189e5c4d2e8d823092eabe0d65129.bindPopup(popup_50d5bf131462947848832c9568c341e6)
        ;

        
    
    
                marker_f94189e5c4d2e8d823092eabe0d65129.setIcon(icon_2ada63b65bbbbf9565b7931fd8b04067);
            
    
            var marker_1a34bb4084b9c0ccef0e21b20c53f653 = L.marker(
                [51.5174319, -0.0824158],
                {
}
            ).addTo(feature_group_346ff97fefd9c9cec40667186b10aca6);
        
    
            var icon_444912eb738920921c17799ae39aa265 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_4417c547d60bc13a21eeea2f511c4440 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_9b14764183c9955bbc63b77ac1fd567d = $(`<div id="html_9b14764183c9955bbc63b77ac1fd567d" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 3)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_4417c547d60bc13a21eeea2f511c4440.setContent(html_9b14764183c9955bbc63b77ac1fd567d);
            
        

        marker_1a34bb4084b9c0ccef0e21b20c53f653.bindPopup(popup_4417c547d60bc13a21eeea2f511c4440)
        ;

        
    
    
                marker_1a34bb4084b9c0ccef0e21b20c53f653.setIcon(icon_444912eb738920921c17799ae39aa265);
            
    
            var marker_de3dd5af5269f74d631fe67faeca5399 = L.marker(
                [51.518249, -0.0797618],
                {
}
            ).addTo(feature_group_346ff97fefd9c9cec40667186b10aca6);
        
    
            var icon_e91f99f264809d97e1c19cc1fc08eddf = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_286a9928008f6c8f70d410c9acd27320 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_748e17e9f27d472e7c3b292f007aa43e = $(`<div id="html_748e17e9f27d472e7c3b292f007aa43e" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 4)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_286a9928008f6c8f70d410c9acd27320.setContent(html_748e17e9f27d472e7c3b292f007aa43e);
            
        

        marker_de3dd5af5269f74d631fe67faeca5399.bindPopup(popup_286a9928008f6c8f70d410c9acd27320)
        ;

        
    
    
                marker_de3dd5af5269f74d631fe67faeca5399.setIcon(icon_e91f99f264809d97e1c19cc1fc08eddf);
            
    
            var marker_d5b3e80ed788b62c9d867648818dc880 = L.marker(
                [51.5161575, -0.0815592],
                {
}
            ).addTo(feature_group_346ff97fefd9c9cec40667186b10aca6);
        
    
            var icon_097dc26a2b6d568e5ce1cde99838d882 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_bdcaf2d2183506b7016fb3ece48b6f94 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_e9a7b31f1a33610bd51f90470902837e = $(`<div id="html_e9a7b31f1a33610bd51f90470902837e" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 5)<br><b>Median Crime:</b> 4.00</div>`)[0];
                popup_bdcaf2d2183506b7016fb3ece48b6f94.setContent(html_e9a7b31f1a33610bd51f90470902837e);
            
        

        marker_d5b3e80ed788b62c9d867648818dc880.bindPopup(popup_bdcaf2d2183506b7016fb3ece48b6f94)
        ;

        
    
    
                marker_d5b3e80ed788b62c9d867648818dc880.setIcon(icon_097dc26a2b6d568e5ce1cde99838d882);
            
    
            feature_group_346ff97fefd9c9cec40667186b10aca6.addTo(map_64481b22c16ed88de166a1cb7a4c623c);
        
    
            var poly_line_fd660186b6ada12ce10aea4943de3e3d = L.polyline(
                [[51.5161575, -0.0815592], [51.5159809, -0.0806168], [51.5161766, -0.0802224], [51.5162438, -0.0802468], [51.5166518, -0.0811869], [51.5169355, -0.0809759], [51.5175272, -0.0804188], [51.518249, -0.0797618], [51.5175272, -0.0804188], [51.5169355, -0.0809759], [51.5174319, -0.0824158], [51.5169355, -0.0809759], [51.5166518, -0.0811869], [51.5164896, -0.081311], [51.5161575, -0.0815592]],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "red", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.8, "smoothFactor": 1.0, "stroke": true, "weight": 5}
            ).addTo(map_64481b22c16ed88de166a1cb7a4c623c);
        
    
            var layer_control_5d2dcd0a85d9bd677daf9dfb91d94f86_layers = {
                base_layers : {
                    "cartodbpositron" : tile_layer_73775c08d79ae4728dacb8f21f92770e,
                },
                overlays :  {
                    "Bishopsgate Boundary" : geo_json_97149f6a644cace4cc6c537dc28738a4,
                    "LSOA Median Crime Rates for Bishopsgate" : geo_json_e9c5fad96e82e8a806abc5f747a2d1af,
                    "Patrol Waypoints" : feature_group_346ff97fefd9c9cec40667186b10aca6,
                },
            };
            let layer_control_5d2dcd0a85d9bd677daf9dfb91d94f86 = L.control.layers(
                layer_control_5d2dcd0a85d9bd677daf9dfb91d94f86_layers.base_layers,
                layer_control_5d2dcd0a85d9bd677daf9dfb91d94f86_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_64481b22c16ed88de166a1cb7a4c623c);

        
</script>
</html>