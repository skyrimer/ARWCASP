<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_51ae82cec9f24d6364b201870c0130ea {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class="folium-map" id="map_51ae82cec9f24d6364b201870c0130ea" ></div>
        
</body>
<script>
    
    
            var map_51ae82cec9f24d6364b201870c0130ea = L.map(
                "map_51ae82cec9f24d6364b201870c0130ea",
                {
                    center: [51.51838410771327, -0.08111050017800528],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_747b674b022725ec36e67326b0f0f65f = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {
  "minZoom": 0,
  "maxZoom": 20,
  "maxNativeZoom": 20,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"https://carto.com/attributions\"\u003eCARTO\u003c/a\u003e",
  "subdomains": "abcd",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_747b674b022725ec36e67326b0f0f65f.addTo(map_51ae82cec9f24d6364b201870c0130ea);
        
    
        function geo_json_8ddfa7abd6f229a45397d7345b9e3159_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#cccccc", "fillOpacity": 0.1, "weight": 2};
            }
        }

        function geo_json_8ddfa7abd6f229a45397d7345b9e3159_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_8ddfa7abd6f229a45397d7345b9e3159 = L.geoJson(null, {
                onEachFeature: geo_json_8ddfa7abd6f229a45397d7345b9e3159_onEachFeature,
            
                style: geo_json_8ddfa7abd6f229a45397d7345b9e3159_styler,
            ...{
}
        });

        function geo_json_8ddfa7abd6f229a45397d7345b9e3159_add (data) {
            geo_json_8ddfa7abd6f229a45397d7345b9e3159
                .addData(data);
        }
            geo_json_8ddfa7abd6f229a45397d7345b9e3159_add({"features": [{"geometry": {"coordinates": [[[-0.08356455001803692, 51.516384923431936], [-0.08333841080018653, 51.51699902066485], [-0.08323688945506812, 51.517254565366976], [-0.08312871529577269, 51.51756663821346], [-0.08446598294451632, 51.517780062380695], [-0.08444357715738218, 51.517798575439016], [-0.08443903228091602, 51.5178020972097], [-0.08443310566098607, 51.51780739441212], [-0.08438829401470309, 51.517844420511], [-0.08433469975093716, 51.517884000146715], [-0.08427664155468857, 51.51792800184397], [-0.0842034216199114, 51.517990634847926], [-0.08418022393192998, 51.518028013905365], [-0.08418493865962666, 51.51808841376291], [-0.08421310392501735, 51.51817337973529], [-0.08425947714639964, 51.51820110714976], [-0.08431436915678553, 51.51823256967867], [-0.08504128785098117, 51.51842612780214], [-0.08549137565081305, 51.518555739221654], [-0.08593290942448754, 51.51868251230548], [-0.08600363241613017, 51.51871342327617], [-0.08617785001700387, 51.51878728700852], [-0.08622745774423944, 51.51880877341585], [-0.08590462660933541, 51.51928905479957], [-0.08581374950964203, 51.519427006447096], [-0.08555614489434987, 51.51983103744992], [-0.08537645441327639, 51.52012845989552], [-0.08521782626483355, 51.52033452803316], [-0.0833255079336797, 51.5198143856123], [-0.08273392782207051, 51.52006821369664], [-0.0823256934817572, 51.520314248601025], [-0.08201724526270651, 51.520555620867796], [-0.08179504655814414, 51.52073268605587], [-0.08176227877361014, 51.5207573221416], [-0.08154935770264686, 51.52102183141383], [-0.08128419699253275, 51.52143202261618], [-0.08105036963239003, 51.521953392630614], [-0.08075902558649507, 51.52188929187568], [-0.07976927240893057, 51.52167072791989], [-0.07847140526262401, 51.521510128192936], [-0.0787305773967851, 51.52103952224745], [-0.07881098253092277, 51.52073868554898], [-0.07884320242904207, 51.52065650533788], [-0.07884054107379071, 51.52065196674946], [-0.07898999333043707, 51.52011393606681], [-0.07917355569653792, 51.519451502836716], [-0.07942974567115063, 51.51884509752556], [-0.07833443623935914, 51.518945016169624], [-0.07808259503613545, 51.51896785977722], [-0.07804812552737508, 51.51848525123937], [-0.07814685956727771, 51.518468889086535], [-0.07796580474845398, 51.51825007240181], [-0.07780314698211686, 51.518108061817415], [-0.07773412900916993, 51.51803680870187], [-0.07768626625996493, 51.517973993268214], [-0.07765241663914567, 51.51788884258611], [-0.0776433056324182, 51.51786531925825], [-0.07740296195183459, 51.51744595188456], [-0.07737048415925207, 51.5173959744999], [-0.07691808727273444, 51.51670693587173], [-0.07687686943503554, 51.516658523135035], [-0.07791264093499219, 51.51581497863795], [-0.0780380018827916, 51.51581523496306], [-0.07845706255718292, 51.51603156829831], [-0.07849228897965102, 51.51605012541583], [-0.07907988554480044, 51.515579594478865], [-0.07909782826822266, 51.51556550433898], [-0.07944818357675947, 51.51576821276477], [-0.07978655420638128, 51.515535428085165], [-0.07994654494520914, 51.51543277441526], [-0.0799867426188253, 51.51540376546267], [-0.08034230985656124, 51.515618243524564], [-0.08056651338873941, 51.51573788386997], [-0.08079822168825668, 51.51581188748369], [-0.08105845746324704, 51.5158970554731], [-0.08105984475650797, 51.51589797717041], [-0.08109835704177441, 51.515838374270025], [-0.0811738522554608, 51.5157244475105], [-0.08136336797615223, 51.51560348585238], [-0.08130918888954067, 51.51558911455827], [-0.08132661195310703, 51.51555343958293], [-0.08123791346424915, 51.515537604557], [-0.08107184695582878, 51.51551061467946], [-0.08101034860996045, 51.51549792149575], [-0.08105086126518536, 51.51542747343859], [-0.08111081573830485, 51.51544014134302], [-0.08114955408886038, 51.51537514812329], [-0.0810124961989038, 51.51534503674223], [-0.08091674310866845, 51.515324591046245], [-0.08100928776537268, 51.51514711435373], [-0.08104055557427212, 51.515087392938256], [-0.08111064677813255, 51.51510202469496], [-0.08112310963615688, 51.51507975359494], [-0.08117162022309243, 51.51509043624313], [-0.08121216074066565, 51.51501648248541], [-0.08220890842412334, 51.51523784667302], [-0.08249618406133312, 51.515363908603604], [-0.08229759574572358, 51.51559628960581], [-0.08196425460195723, 51.51588220469323], [-0.08166359274578554, 51.51614258235118], [-0.08169372427655834, 51.51614667117068], [-0.08308138320236728, 51.51632488574996], [-0.08356455001803692, 51.516384923431936]]], "type": "Polygon"}, "id": "638", "properties": {"DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009292", "HECTARES": 25.385, "LAGSSCODE": "E09000001", "NAME": "Bishopsgate", "NONLD_AREA": 0.0, "_normalized_name": "bishopsgate"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_8ddfa7abd6f229a45397d7345b9e3159.addTo(map_51ae82cec9f24d6364b201870c0130ea);
        
    
        function geo_json_34420b78f8d31abe6e14a58930e82225_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#fd8c3c", "fillOpacity": 0.7, "weight": 0.5};
            }
        }

        function geo_json_34420b78f8d31abe6e14a58930e82225_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_34420b78f8d31abe6e14a58930e82225 = L.geoJson(null, {
                onEachFeature: geo_json_34420b78f8d31abe6e14a58930e82225_onEachFeature,
            
                style: geo_json_34420b78f8d31abe6e14a58930e82225_styler,
            ...{
}
        });

        function geo_json_34420b78f8d31abe6e14a58930e82225_add (data) {
            geo_json_34420b78f8d31abe6e14a58930e82225
                .addData(data);
        }
            geo_json_34420b78f8d31abe6e14a58930e82225_add({"features": [{"geometry": {"coordinates": [[[[-0.07737099887417906, 51.517396019685506], [-0.07847157603218012, 51.5215098870382], [-0.08521839623899545, 51.52033385874817], [-0.08812915078150328, 51.51941071951071], [-0.09548113459525204, 51.51544001964419], [-0.09974880246315052, 51.51676759455516], [-0.10399462243365584, 51.51077938121521], [-0.09990284589579007, 51.51075114610646], [-0.09935578694134153, 51.51067664983341], [-0.09635884004862082, 51.510268488544355], [-0.09525988733101631, 51.51011879806548], [-0.09232213738951378, 51.50947573722671], [-0.09198839045879534, 51.50940267591846], [-0.0886035773016867, 51.50892260258973], [-0.08548097709594062, 51.50859612613124], [-0.0851724254980519, 51.50856149069807], [-0.08118153259906154, 51.508113430942245], [-0.08040208006001064, 51.5080259042259], [-0.07937941404664733, 51.50784275606517], [-0.0791597500790817, 51.50778683430268], [-0.07617255031926315, 51.5104769637077], [-0.08003605823182643, 51.515673489449554], [-0.07737099887417906, 51.517396019685506]]]], "type": "MultiPolygon"}, "id": "2", "properties": {"BNG_E": 532920, "BNG_N": 181297, "DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009292", "GlobalID": "{94762C09-73CF-4426-BA0D-E0D96EDFB7F5}", "HECTARES": 25.385, "LAGSSCODE": "E09000001", "LAT": 51.51496887207031, "LONG": -0.0857900008559227, "LSOA21CD": "E01032739", "LSOA21NM": "City of London 001F", "LSOA21NMW": " ", "NAME": "Bishopsgate", "NONLD_AREA": 0.0, "WD24NM": "Walbrook", "_normalized_name": "bishopsgate", "crime_rate": 20.0, "is_high_crime": true, "median": 20.0}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
    geo_json_34420b78f8d31abe6e14a58930e82225.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = ["LSOA21CD", "LSOA21NM", "crime_rate"];
    let aliases = ["LSOA Code:", "LSOA Name:", "Median Crime Rate (from \"median\"):"];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{
  "sticky": true,
  "className": "foliumtooltip",
});
                     
    
            geo_json_34420b78f8d31abe6e14a58930e82225.addTo(map_51ae82cec9f24d6364b201870c0130ea);
        
    
            var feature_group_de45acec1e6df5de8f74007c65aed543 = L.featureGroup(
                {
}
            );
        
    
            var marker_107b63c90b2932e398203d6cbdb63bf4 = L.marker(
                [51.5161575, -0.0815592],
                {
}
            ).addTo(feature_group_de45acec1e6df5de8f74007c65aed543);
        
    
            var icon_564a572ab6401b94bb5bda585b0cdb81 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_9e794272ca681a9b07e2dee4cd54cc67 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_aaaedaab7097e32dbb02af0cc03619dc = $(`<div id="html_aaaedaab7097e32dbb02af0cc03619dc" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 1)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_9e794272ca681a9b07e2dee4cd54cc67.setContent(html_aaaedaab7097e32dbb02af0cc03619dc);
            
        

        marker_107b63c90b2932e398203d6cbdb63bf4.bindPopup(popup_9e794272ca681a9b07e2dee4cd54cc67)
        ;

        
    
    
                marker_107b63c90b2932e398203d6cbdb63bf4.setIcon(icon_564a572ab6401b94bb5bda585b0cdb81);
            
    
            var marker_4ffa47595e03f918a60017eef24c7c76 = L.marker(
                [51.5161575, -0.0815592],
                {
}
            ).addTo(feature_group_de45acec1e6df5de8f74007c65aed543);
        
    
            var icon_68b10c5920adad8968cee50b02068e73 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_3b45fa923539173f218c2bd12320f7c2 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_59cfcfdc8185fd1f587784bde9e56ce9 = $(`<div id="html_59cfcfdc8185fd1f587784bde9e56ce9" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 2)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_3b45fa923539173f218c2bd12320f7c2.setContent(html_59cfcfdc8185fd1f587784bde9e56ce9);
            
        

        marker_4ffa47595e03f918a60017eef24c7c76.bindPopup(popup_3b45fa923539173f218c2bd12320f7c2)
        ;

        
    
    
                marker_4ffa47595e03f918a60017eef24c7c76.setIcon(icon_68b10c5920adad8968cee50b02068e73);
            
    
            var marker_8308e26ca090c508cfb38cabeb3c830f = L.marker(
                [51.5161575, -0.0815592],
                {
}
            ).addTo(feature_group_de45acec1e6df5de8f74007c65aed543);
        
    
            var icon_5c751152096e5f473f6c33868c5cfd2d = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_3cbae94e551f077f23303e69204b77cf = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_b6e326671dd4e414d198c9438decf34a = $(`<div id="html_b6e326671dd4e414d198c9438decf34a" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 3)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_3cbae94e551f077f23303e69204b77cf.setContent(html_b6e326671dd4e414d198c9438decf34a);
            
        

        marker_8308e26ca090c508cfb38cabeb3c830f.bindPopup(popup_3cbae94e551f077f23303e69204b77cf)
        ;

        
    
    
                marker_8308e26ca090c508cfb38cabeb3c830f.setIcon(icon_5c751152096e5f473f6c33868c5cfd2d);
            
    
            var marker_b0abfb71543064bb6e342ddde6deee82 = L.marker(
                [51.5161575, -0.0815592],
                {
}
            ).addTo(feature_group_de45acec1e6df5de8f74007c65aed543);
        
    
            var icon_ddd7208f337bd63b3c0d392dfdb8d89d = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_34da954f45546f7f7849a1f6b8def3de = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_405e093d6362b0a0ccbb81873bbccdbd = $(`<div id="html_405e093d6362b0a0ccbb81873bbccdbd" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 4)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_34da954f45546f7f7849a1f6b8def3de.setContent(html_405e093d6362b0a0ccbb81873bbccdbd);
            
        

        marker_b0abfb71543064bb6e342ddde6deee82.bindPopup(popup_34da954f45546f7f7849a1f6b8def3de)
        ;

        
    
    
                marker_b0abfb71543064bb6e342ddde6deee82.setIcon(icon_ddd7208f337bd63b3c0d392dfdb8d89d);
            
    
            var marker_80e0e2d7b4ab8f765ad35dde996610d6 = L.marker(
                [51.5161575, -0.0815592],
                {
}
            ).addTo(feature_group_de45acec1e6df5de8f74007c65aed543);
        
    
            var icon_169475b75182b05d812d7d30f2116449 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_c5c66cfe99d7693385d7d88d759ac7a6 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_c42d200784fe1a7c9eecf5bb272c98a8 = $(`<div id="html_c42d200784fe1a7c9eecf5bb272c98a8" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001F (Pt 5)<br><b>Median Crime:</b> 20.00</div>`)[0];
                popup_c5c66cfe99d7693385d7d88d759ac7a6.setContent(html_c42d200784fe1a7c9eecf5bb272c98a8);
            
        

        marker_80e0e2d7b4ab8f765ad35dde996610d6.bindPopup(popup_c5c66cfe99d7693385d7d88d759ac7a6)
        ;

        
    
    
                marker_80e0e2d7b4ab8f765ad35dde996610d6.setIcon(icon_169475b75182b05d812d7d30f2116449);
            
    
            feature_group_de45acec1e6df5de8f74007c65aed543.addTo(map_51ae82cec9f24d6364b201870c0130ea);
        
    
            var poly_line_ee790a8d1a91124ba1c2ad44c46b1968 = L.polyline(
                [[51.5161575, -0.0815592]],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "red", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.8, "smoothFactor": 1.0, "stroke": true, "weight": 5}
            ).addTo(map_51ae82cec9f24d6364b201870c0130ea);
        
    
            var layer_control_63d89a78eb9206f33e60308739383c5a_layers = {
                base_layers : {
                    "cartodbpositron" : tile_layer_747b674b022725ec36e67326b0f0f65f,
                },
                overlays :  {
                    "Bishopsgate Boundary" : geo_json_8ddfa7abd6f229a45397d7345b9e3159,
                    "LSOA Median Crime Rates for Bishopsgate" : geo_json_34420b78f8d31abe6e14a58930e82225,
                    "Patrol Waypoints" : feature_group_de45acec1e6df5de8f74007c65aed543,
                },
            };
            let layer_control_63d89a78eb9206f33e60308739383c5a = L.control.layers(
                layer_control_63d89a78eb9206f33e60308739383c5a_layers.base_layers,
                layer_control_63d89a78eb9206f33e60308739383c5a_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_51ae82cec9f24d6364b201870c0130ea);

        
</script>
</html>