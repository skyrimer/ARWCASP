<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_f72807bb6787533194621e86b26a1443 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class="folium-map" id="map_f72807bb6787533194621e86b26a1443" ></div>
        
</body>
<script>
    
    
            var map_f72807bb6787533194621e86b26a1443 = L.map(
                "map_f72807bb6787533194621e86b26a1443",
                {
                    center: [51.51094317819184, -0.07737339045296343],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_6e24a2ba07a8a945acf54bf67bc2724f = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {
  "minZoom": 0,
  "maxZoom": 20,
  "maxNativeZoom": 20,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"https://carto.com/attributions\"\u003eCARTO\u003c/a\u003e",
  "subdomains": "abcd",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_6e24a2ba07a8a945acf54bf67bc2724f.addTo(map_f72807bb6787533194621e86b26a1443);
        
    
        function geo_json_7b0fd1dcca0332bfc98d0b15c56a0ede_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#cccccc", "fillOpacity": 0.1, "weight": 2};
            }
        }

        function geo_json_7b0fd1dcca0332bfc98d0b15c56a0ede_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_7b0fd1dcca0332bfc98d0b15c56a0ede = L.geoJson(null, {
                onEachFeature: geo_json_7b0fd1dcca0332bfc98d0b15c56a0ede_onEachFeature,
            
                style: geo_json_7b0fd1dcca0332bfc98d0b15c56a0ede_styler,
            ...{
}
        });

        function geo_json_7b0fd1dcca0332bfc98d0b15c56a0ede_add (data) {
            geo_json_7b0fd1dcca0332bfc98d0b15c56a0ede
                .addData(data);
        }
            geo_json_7b0fd1dcca0332bfc98d0b15c56a0ede_add({"features": [{"geometry": {"coordinates": [[[-0.0815819061835339, 51.51170602935271], [-0.08038235463042169, 51.51205966708791], [-0.08030645049111082, 51.51208449573571], [-0.08024221011296945, 51.512103222249394], [-0.08023785977798124, 51.51210494904211], [-0.0797301419462327, 51.51225126546906], [-0.0795680824191565, 51.512301653023144], [-0.07956072563682856, 51.5123042295634], [-0.07949714868198168, 51.512239359483], [-0.07920751588066176, 51.51182817826918], [-0.07901610710216808, 51.511788184325056], [-0.07875742539325899, 51.51173450206693], [-0.07803388206361077, 51.5115993943429], [-0.07787237657713622, 51.51156887855824], [-0.07753727563433076, 51.51151843615439], [-0.0771437672969477, 51.51186178651921], [-0.07743466104318968, 51.51203655639556], [-0.07797102924081578, 51.51251111981559], [-0.07830335856651746, 51.51279984058306], [-0.07779396057802014, 51.513087354165464], [-0.07744571883789385, 51.51324715226975], [-0.07695163439156094, 51.51341345826064], [-0.07667732777977489, 51.51349076938062], [-0.07661027708866916, 51.513511245836575], [-0.07606263279229654, 51.51367945665905], [-0.0761287917631538, 51.513750663964416], [-0.07607171531527368, 51.51377130372551], [-0.0752303490341368, 51.514074037291564], [-0.07508460481671318, 51.51363284307867], [-0.07486452591900208, 51.51369216094693], [-0.0747696174859169, 51.51382374510589], [-0.0746601169205155, 51.5138561096477], [-0.07463472220444158, 51.51384400575743], [-0.07440893307085765, 51.513728732953986], [-0.07418703957414077, 51.51345350149212], [-0.07418875126632207, 51.51331148743441], [-0.07419227500173728, 51.51322793819618], [-0.07419250233892309, 51.5132225479227], [-0.07466971199088175, 51.512980370510085], [-0.07477887881598334, 51.51291923245649], [-0.07488777102890984, 51.51290124184394], [-0.07485678006473696, 51.51271185303592], [-0.07484087327676504, 51.512714288938966], [-0.07424956440277504, 51.51279088554359], [-0.07420565728498034, 51.51263733441181], [-0.07411065595605736, 51.51263307745928], [-0.07405704571212944, 51.51236869988623], [-0.07466492339996783, 51.512307659293], [-0.07459621744716163, 51.51205741817645], [-0.07397231765028194, 51.51212089228676], [-0.07388915133303593, 51.51173466406103], [-0.07306317944798127, 51.511808299592374], [-0.07304402579495678, 51.51168212470585], [-0.07298346201342717, 51.51144190535201], [-0.07291654399376345, 51.51125372363335], [-0.07282709690309398, 51.51108414060738], [-0.0727711400061116, 51.51087276485956], [-0.07276392854798207, 51.510804322240055], [-0.07276094298096113, 51.51077370712685], [-0.07274933698045666, 51.51064046417838], [-0.07275962636113555, 51.51036005485976], [-0.07278100698638895, 51.51029828518355], [-0.07283539820108534, 51.51023984483954], [-0.07291414647338454, 51.51014764262782], [-0.0729909281743232, 51.51010485314151], [-0.07314065762920996, 51.51010731318889], [-0.0735210863168104, 51.51010816874278], [-0.07383301539117466, 51.51009351406073], [-0.07404954639650578, 51.510050321958424], [-0.07419686133599031, 51.510008600033814], [-0.07442146802540571, 51.509945761820866], [-0.07455067576573624, 51.50995867115171], [-0.07461809150968349, 51.509966070926794], [-0.0748344789997007, 51.50999389613842], [-0.07541187403784835, 51.509801097272586], [-0.07556649674738558, 51.509755088450625], [-0.07558405962941274, 51.509749982624385], [-0.07562133480205722, 51.50978745330413], [-0.07564080099315852, 51.50980485373307], [-0.07569353290492996, 51.50985336601841], [-0.07569923751027896, 51.50985615662092], [-0.07575846392108729, 51.50988589640638], [-0.0757761307827369, 51.51008135945023], [-0.07578140543929765, 51.510128194057835], [-0.0760821191980061, 51.510106157375986], [-0.07615086640952215, 51.51045708647695], [-0.07617251489858352, 51.51045654258635], [-0.07627636396545681, 51.51045375101105], [-0.07628552213971966, 51.51054380134587], [-0.07655873903836614, 51.51052580741512], [-0.076895433308062, 51.510504358712375], [-0.07689390245153996, 51.51047017156835], [-0.07688644934074554, 51.51033960429472], [-0.0768826920776036, 51.51025953158431], [-0.0769192124800004, 51.51021338235721], [-0.07707814020136226, 51.51020340217937], [-0.07757803401598007, 51.510172041172005], [-0.07778946759600604, 51.51011437460896], [-0.07796324365573581, 51.51002543460011], [-0.07816678789881376, 51.509881333970405], [-0.0783981159281971, 51.509655789223416], [-0.07850219825401185, 51.50951185634515], [-0.07851516748049286, 51.509443654847], [-0.07854417184528102, 51.509440534033125], [-0.07888258450195428, 51.50941191581679], [-0.07896251263700449, 51.50912185880943], [-0.07904913639537922, 51.509116085645275], [-0.07909924370710907, 51.50905757227444], [-0.07908926447940116, 51.50905471182508], [-0.07874827171138252, 51.50893854918055], [-0.07879083992504268, 51.50885024539935], [-0.07873694332885374, 51.50883219157143], [-0.07872122171134432, 51.50882743901761], [-0.07873634461927946, 51.508809706735484], [-0.07887130605602417, 51.50865189536064], [-0.07904711049203927, 51.50841285380823], [-0.07904902654558649, 51.50840119817667], [-0.0790547858029706, 51.50833206941981], [-0.0791027284384928, 51.50822047952198], [-0.07924325407546214, 51.50789356683537], [-0.07934498855794092, 51.50790700986585], [-0.07937941433168905, 51.50784275565514], [-0.07940456424101815, 51.50779282345059], [-0.0795500715073217, 51.507725983120956], [-0.07975716084545037, 51.50759892894326], [-0.07978083709661285, 51.50758403357658], [-0.08018988816826753, 51.50686955151077], [-0.08029529458763181, 51.50689734795761], [-0.08077669863600545, 51.50699971193778], [-0.08105984705993573, 51.50705019425069], [-0.08112707095268172, 51.50706208217091], [-0.08040207991028507, 51.50802590383654], [-0.08003263148097961, 51.50851889174216], [-0.08001743363410375, 51.508538420963895], [-0.08109534467609779, 51.50884652948479], [-0.08123269600197643, 51.509109576824365], [-0.08126475720354856, 51.50916943540504], [-0.0817037188377581, 51.50911458499066], [-0.08171970502588495, 51.50911304846403], [-0.0817449547620009, 51.509230421445224], [-0.08187435311554242, 51.50937457992117], [-0.08206668550330894, 51.50946313039676], [-0.08227402348507695, 51.50953673280488], [-0.08230234306369345, 51.50954708487402], [-0.08181702793960943, 51.510122689686504], [-0.08175749530611137, 51.51010013998534], [-0.08066358366171998, 51.50972524990944], [-0.08056937003915302, 51.5098748300801], [-0.08041645202618608, 51.51039203966234], [-0.08023102474999165, 51.5109645448361], [-0.08018854613688321, 51.51111856752044], [-0.08012437692284036, 51.51140978221768], [-0.08149379739071984, 51.5113341100434], [-0.08153273939804628, 51.511332050043485], [-0.08154030601980657, 51.51153094281009], [-0.0815819061835339, 51.51170602935271]]], "type": "Polygon"}, "id": "637", "properties": {"DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009310", "HECTARES": 19.867, "LAGSSCODE": "E09000001", "NAME": "Tower", "NONLD_AREA": 0.736, "_normalized_name": "tower"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_7b0fd1dcca0332bfc98d0b15c56a0ede.addTo(map_f72807bb6787533194621e86b26a1443);
        
    
        function geo_json_740985cdd2da0c78b5820f9ab0601966_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#fd8c3c", "fillOpacity": 0.7, "weight": 0.5};
            }
        }

        function geo_json_740985cdd2da0c78b5820f9ab0601966_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_740985cdd2da0c78b5820f9ab0601966 = L.geoJson(null, {
                onEachFeature: geo_json_740985cdd2da0c78b5820f9ab0601966_onEachFeature,
            
                style: geo_json_740985cdd2da0c78b5820f9ab0601966_styler,
            ...{
}
        });

        function geo_json_740985cdd2da0c78b5820f9ab0601966_add (data) {
            geo_json_740985cdd2da0c78b5820f9ab0601966
                .addData(data);
        }
            geo_json_740985cdd2da0c78b5820f9ab0601966_add({"features": [{"geometry": {"coordinates": [[[[-0.07591792794794808, 51.51589501871235], [-0.07737099887417906, 51.517396019685506], [-0.08003605823182643, 51.515673489449554], [-0.07617255031926315, 51.5104769637077], [-0.07322990621378413, 51.51000242128328], [-0.07276442031335342, 51.51080490648874], [-0.07396902240431048, 51.514452978062174], [-0.07591792794794808, 51.51589501871235]]]], "type": "MultiPolygon"}, "id": "0", "properties": {"BNG_E": 533581, "BNG_N": 181283, "DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009310", "GlobalID": "{86AEE0AA-079F-4F92-8F9D-5773824F4945}", "HECTARES": 19.867, "LAGSSCODE": "E09000001", "LAT": 51.51469039916992, "LONG": -0.07627999782562256, "LSOA21CD": "E01000005", "LSOA21NM": "City of London 001E", "LSOA21NMW": " ", "NAME": "Tower", "NONLD_AREA": 0.736, "WD24NM": "Portsoken", "_normalized_name": "tower", "crime_rate": 2.0, "is_high_crime": true, "median": 2.0}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
    geo_json_740985cdd2da0c78b5820f9ab0601966.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = ["LSOA21CD", "LSOA21NM", "crime_rate"];
    let aliases = ["LSOA Code:", "LSOA Name:", "Median Crime Rate (from \"median\"):"];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{
  "sticky": true,
  "className": "foliumtooltip",
});
                     
    
            geo_json_740985cdd2da0c78b5820f9ab0601966.addTo(map_f72807bb6787533194621e86b26a1443);
        
    
            var feature_group_ace2a331e6fa0180af7514bbe5c66143 = L.featureGroup(
                {
}
            );
        
    
            var marker_99bb276a273d3fd9f1d319cc02b18749 = L.marker(
                [51.5136665, -0.0759687],
                {
}
            ).addTo(feature_group_ace2a331e6fa0180af7514bbe5c66143);
        
    
            var icon_2d9484de1afe52d1ea9c7ce4aed6a169 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_d40538121cb61b998754ca5c5488dd86 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_89cb0700c7da27f828a6a3724fbf7960 = $(`<div id="html_89cb0700c7da27f828a6a3724fbf7960" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001E (Pt 1)<br><b>Median Crime:</b> 2.00</div>`)[0];
                popup_d40538121cb61b998754ca5c5488dd86.setContent(html_89cb0700c7da27f828a6a3724fbf7960);
            
        

        marker_99bb276a273d3fd9f1d319cc02b18749.bindPopup(popup_d40538121cb61b998754ca5c5488dd86)
        ;

        
    
    
                marker_99bb276a273d3fd9f1d319cc02b18749.setIcon(icon_2d9484de1afe52d1ea9c7ce4aed6a169);
            
    
            var marker_6473a0f12871157165119172ea5836b8 = L.marker(
                [51.5136665, -0.0759687],
                {
}
            ).addTo(feature_group_ace2a331e6fa0180af7514bbe5c66143);
        
    
            var icon_2e310e7977aadb460ddc057c6edcf528 = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_182aea844583d084fa057dc90a214779 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_a4ec1cbc842f556c32f377485911bb21 = $(`<div id="html_a4ec1cbc842f556c32f377485911bb21" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001E (Pt 2)<br><b>Median Crime:</b> 2.00</div>`)[0];
                popup_182aea844583d084fa057dc90a214779.setContent(html_a4ec1cbc842f556c32f377485911bb21);
            
        

        marker_6473a0f12871157165119172ea5836b8.bindPopup(popup_182aea844583d084fa057dc90a214779)
        ;

        
    
    
                marker_6473a0f12871157165119172ea5836b8.setIcon(icon_2e310e7977aadb460ddc057c6edcf528);
            
    
            var marker_faa6d3a5dbddc11f75323b979358437c = L.marker(
                [51.512443, -0.0746893],
                {
}
            ).addTo(feature_group_ace2a331e6fa0180af7514bbe5c66143);
        
    
            var icon_672a34145db9acbbd59a13e57360e929 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_f0c6d90a73d36b23b2ede75c11b8c3bf = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_e17a7356120cf236d2ed84d94e77bd4a = $(`<div id="html_e17a7356120cf236d2ed84d94e77bd4a" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001E (Pt 3)<br><b>Median Crime:</b> 2.00</div>`)[0];
                popup_f0c6d90a73d36b23b2ede75c11b8c3bf.setContent(html_e17a7356120cf236d2ed84d94e77bd4a);
            
        

        marker_faa6d3a5dbddc11f75323b979358437c.bindPopup(popup_f0c6d90a73d36b23b2ede75c11b8c3bf)
        ;

        
    
    
                marker_faa6d3a5dbddc11f75323b979358437c.setIcon(icon_672a34145db9acbbd59a13e57360e929);
            
    
            var marker_21e7acf1ee4393fbdd734ccdd5453a91 = L.marker(
                [51.5115977, -0.0758371],
                {
}
            ).addTo(feature_group_ace2a331e6fa0180af7514bbe5c66143);
        
    
            var icon_eeb56f2d2e39d0a28e4efdc1ac5ccb47 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_464f3c0e7f27442ba89b8273823be3c0 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_72097f6f80539eca666c0b8518534fb9 = $(`<div id="html_72097f6f80539eca666c0b8518534fb9" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001E (Pt 4)<br><b>Median Crime:</b> 2.00</div>`)[0];
                popup_464f3c0e7f27442ba89b8273823be3c0.setContent(html_72097f6f80539eca666c0b8518534fb9);
            
        

        marker_21e7acf1ee4393fbdd734ccdd5453a91.bindPopup(popup_464f3c0e7f27442ba89b8273823be3c0)
        ;

        
    
    
                marker_21e7acf1ee4393fbdd734ccdd5453a91.setIcon(icon_eeb56f2d2e39d0a28e4efdc1ac5ccb47);
            
    
            feature_group_ace2a331e6fa0180af7514bbe5c66143.addTo(map_f72807bb6787533194621e86b26a1443);
        
    
            var poly_line_230141445a881c9637efc19ae3c8d4ba = L.polyline(
                [[51.5136665, -0.0759687], [51.5126879, -0.0755849], [51.5125853, -0.0755516], [51.5116147, -0.0753004], [51.5115977, -0.0758371], [51.5115966, -0.0758715], [51.5115442, -0.0773376], [51.5116588, -0.0773355], [51.5118358, -0.0771552], [51.5126147, -0.0765925], [51.5126429, -0.0760908], [51.5126879, -0.0755849], [51.5125853, -0.0755516], [51.512443, -0.0746893], [51.5125853, -0.0755516], [51.5126879, -0.0755849], [51.5136665, -0.0759687]],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "red", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.8, "smoothFactor": 1.0, "stroke": true, "weight": 5}
            ).addTo(map_f72807bb6787533194621e86b26a1443);
        
    
            var layer_control_cd2bff9c66e00771e1395d3d4daafbc4_layers = {
                base_layers : {
                    "cartodbpositron" : tile_layer_6e24a2ba07a8a945acf54bf67bc2724f,
                },
                overlays :  {
                    "Tower Boundary" : geo_json_7b0fd1dcca0332bfc98d0b15c56a0ede,
                    "LSOA Median Crime Rates for Tower" : geo_json_740985cdd2da0c78b5820f9ab0601966,
                    "Patrol Waypoints" : feature_group_ace2a331e6fa0180af7514bbe5c66143,
                },
            };
            let layer_control_cd2bff9c66e00771e1395d3d4daafbc4 = L.control.layers(
                layer_control_cd2bff9c66e00771e1395d3d4daafbc4_layers.base_layers,
                layer_control_cd2bff9c66e00771e1395d3d4daafbc4_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_f72807bb6787533194621e86b26a1443);

        
</script>
</html>