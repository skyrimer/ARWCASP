<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_1bf34e2cf6ccd382e1b29c1b13037619 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class="folium-map" id="map_1bf34e2cf6ccd382e1b29c1b13037619" ></div>
        
</body>
<script>
    
    
            var map_1bf34e2cf6ccd382e1b29c1b13037619 = L.map(
                "map_1bf34e2cf6ccd382e1b29c1b13037619",
                {
                    center: [51.51094317819184, -0.07737339045296661],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_1d28a71f05d4c1d92ca15f043cc80cdc = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {
  "minZoom": 0,
  "maxZoom": 20,
  "maxNativeZoom": 20,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"https://carto.com/attributions\"\u003eCARTO\u003c/a\u003e",
  "subdomains": "abcd",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_1d28a71f05d4c1d92ca15f043cc80cdc.addTo(map_1bf34e2cf6ccd382e1b29c1b13037619);
        
    
        function geo_json_5cc6a4b600d3de4a28ea1b9a16fd984a_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#cccccc", "fillOpacity": 0.1, "weight": 2};
            }
        }

        function geo_json_5cc6a4b600d3de4a28ea1b9a16fd984a_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_5cc6a4b600d3de4a28ea1b9a16fd984a = L.geoJson(null, {
                onEachFeature: geo_json_5cc6a4b600d3de4a28ea1b9a16fd984a_onEachFeature,
            
                style: geo_json_5cc6a4b600d3de4a28ea1b9a16fd984a_styler,
            ...{
}
        });

        function geo_json_5cc6a4b600d3de4a28ea1b9a16fd984a_add (data) {
            geo_json_5cc6a4b600d3de4a28ea1b9a16fd984a
                .addData(data);
        }
            geo_json_5cc6a4b600d3de4a28ea1b9a16fd984a_add({"features": [{"geometry": {"coordinates": [[[-0.08158190618353389, 51.511706029352695], [-0.08038235463042168, 51.51205966708791], [-0.08030645049111082, 51.51208449573571], [-0.08024221011296945, 51.51210322224939], [-0.08023785977798124, 51.512104949042104], [-0.07973014194623268, 51.51225126546906], [-0.0795680824191565, 51.51230165302314], [-0.07956072563682855, 51.51230422956339], [-0.07949714868198168, 51.512239359483], [-0.07920751588066177, 51.51182817826918], [-0.07901610710216807, 51.511788184325056], [-0.078757425393259, 51.51173450206693], [-0.07803388206361077, 51.5115993943429], [-0.07787237657713622, 51.51156887855824], [-0.07753727563433076, 51.51151843615439], [-0.0771437672969477, 51.51186178651921], [-0.07743466104318968, 51.51203655639556], [-0.07797102924081578, 51.51251111981559], [-0.07830335856651746, 51.51279984058306], [-0.07779396057802014, 51.513087354165464], [-0.07744571883789385, 51.513247152269756], [-0.07695163439156094, 51.51341345826064], [-0.07667732777977489, 51.51349076938061], [-0.07661027708866916, 51.513511245836575], [-0.07606263279229654, 51.51367945665905], [-0.0761287917631538, 51.5137506639644], [-0.07607171531527368, 51.51377130372551], [-0.0752303490341368, 51.514074037291564], [-0.07508460481671317, 51.51363284307867], [-0.07486452591900207, 51.51369216094693], [-0.0747696174859169, 51.51382374510589], [-0.07466011692051551, 51.513856109647705], [-0.07463472220444156, 51.513844005757434], [-0.07440893307085765, 51.513728732953986], [-0.07418703957414077, 51.51345350149213], [-0.07418875126632207, 51.51331148743441], [-0.07419227500173728, 51.51322793819619], [-0.07419250233892308, 51.5132225479227], [-0.07466971199088175, 51.51298037051009], [-0.07477887881598333, 51.51291923245648], [-0.07488777102890984, 51.51290124184395], [-0.07485678006473696, 51.51271185303592], [-0.07484087327676504, 51.51271428893896], [-0.07424956440277504, 51.51279088554358], [-0.07420565728498034, 51.51263733441181], [-0.07411065595605736, 51.51263307745928], [-0.07405704571212944, 51.512368699886224], [-0.07466492339996784, 51.51230765929301], [-0.07459621744716165, 51.51205741817645], [-0.07397231765028194, 51.51212089228676], [-0.07388915133303595, 51.51173466406103], [-0.07306317944798127, 51.51180829959237], [-0.0730440257949568, 51.51168212470585], [-0.07298346201342717, 51.51144190535201], [-0.07291654399376346, 51.511253723633345], [-0.07282709690309398, 51.51108414060738], [-0.0727711400061116, 51.51087276485956], [-0.07276392854798207, 51.510804322240055], [-0.07276094298096114, 51.51077370712685], [-0.07274933698045667, 51.51064046417839], [-0.07275962636113555, 51.51036005485976], [-0.07278100698638895, 51.51029828518355], [-0.07283539820108534, 51.510239844839546], [-0.07291414647338454, 51.51014764262782], [-0.0729909281743232, 51.51010485314151], [-0.07314065762920996, 51.51010731318889], [-0.0735210863168104, 51.51010816874278], [-0.07383301539117465, 51.51009351406072], [-0.07404954639650578, 51.51005032195842], [-0.07419686133599031, 51.51000860003382], [-0.07442146802540571, 51.509945761820866], [-0.07455067576573624, 51.50995867115172], [-0.07461809150968349, 51.509966070926794], [-0.0748344789997007, 51.50999389613842], [-0.07541187403784835, 51.50980109727259], [-0.07556649674738558, 51.509755088450625], [-0.07558405962941274, 51.509749982624385], [-0.07562133480205722, 51.50978745330414], [-0.07564080099315854, 51.50980485373307], [-0.07569353290492996, 51.50985336601841], [-0.07569923751027896, 51.50985615662093], [-0.07575846392108729, 51.50988589640638], [-0.0757761307827369, 51.510081359450226], [-0.07578140543929765, 51.51012819405784], [-0.0760821191980061, 51.51010615737598], [-0.07615086640952214, 51.51045708647694], [-0.07617251489858352, 51.51045654258635], [-0.07627636396545683, 51.51045375101104], [-0.07628552213971966, 51.51054380134587], [-0.07655873903836614, 51.510525807415135], [-0.076895433308062, 51.51050435871237], [-0.07689390245153994, 51.51047017156836], [-0.07688644934074554, 51.51033960429471], [-0.07688269207760359, 51.51025953158431], [-0.0769192124800004, 51.51021338235721], [-0.07707814020136226, 51.510203402179364], [-0.07757803401598007, 51.510172041172], [-0.07778946759600604, 51.51011437460897], [-0.07796324365573581, 51.51002543460011], [-0.07816678789881376, 51.509881333970405], [-0.0783981159281971, 51.50965578922341], [-0.07850219825401185, 51.50951185634515], [-0.07851516748049286, 51.50944365484699], [-0.07854417184528102, 51.509440534033125], [-0.07888258450195428, 51.50941191581679], [-0.07896251263700449, 51.50912185880942], [-0.07904913639537922, 51.509116085645275], [-0.07909924370710907, 51.509057572274436], [-0.07908926447940116, 51.509054711825065], [-0.07874827171138252, 51.50893854918055], [-0.07879083992504268, 51.50885024539935], [-0.07873694332885374, 51.508832191571436], [-0.07872122171134432, 51.50882743901761], [-0.07873634461927947, 51.5088097067355], [-0.07887130605602417, 51.50865189536064], [-0.07904711049203927, 51.50841285380823], [-0.07904902654558649, 51.508401198176664], [-0.07905478580297058, 51.50833206941981], [-0.0791027284384928, 51.50822047952199], [-0.07924325407546214, 51.50789356683537], [-0.07934498855794092, 51.50790700986586], [-0.07937941433168903, 51.50784275565514], [-0.07940456424101815, 51.5077928234506], [-0.0795500715073217, 51.50772598312095], [-0.07975716084545037, 51.50759892894326], [-0.07978083709661285, 51.507584033576585], [-0.08018988816826754, 51.50686955151076], [-0.08029529458763182, 51.506897347957604], [-0.08077669863600545, 51.50699971193778], [-0.08105984705993574, 51.50705019425068], [-0.08112707095268172, 51.507062082170904], [-0.08040207991028506, 51.50802590383654], [-0.08003263148097961, 51.50851889174216], [-0.08001743363410375, 51.508538420963895], [-0.0810953446760978, 51.5088465294848], [-0.08123269600197643, 51.50910957682436], [-0.08126475720354855, 51.50916943540504], [-0.0817037188377581, 51.50911458499066], [-0.08171970502588495, 51.50911304846403], [-0.08174495476200089, 51.509230421445224], [-0.08187435311554242, 51.509374579921186], [-0.08206668550330895, 51.50946313039675], [-0.08227402348507695, 51.50953673280488], [-0.08230234306369345, 51.50954708487402], [-0.08181702793960943, 51.510122689686504], [-0.08175749530611136, 51.51010013998533], [-0.08066358366172, 51.509725249909444], [-0.08056937003915302, 51.50987483008011], [-0.0804164520261861, 51.51039203966234], [-0.08023102474999164, 51.5109645448361], [-0.08018854613688321, 51.51111856752044], [-0.08012437692284036, 51.51140978221768], [-0.08149379739071984, 51.5113341100434], [-0.08153273939804628, 51.511332050043485], [-0.08154030601980655, 51.51153094281009], [-0.08158190618353389, 51.511706029352695]]], "type": "Polygon"}, "id": "637", "properties": {"DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009310", "HECTARES": 19.867, "LAGSSCODE": "E09000001", "NAME": "Tower", "NONLD_AREA": 0.736, "_normalized_name": "tower"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_5cc6a4b600d3de4a28ea1b9a16fd984a.addTo(map_1bf34e2cf6ccd382e1b29c1b13037619);
        
    
        function geo_json_a8edfc0597d868caf0b41e21639fac84_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "black", "fillColor": "#fd8c3c", "fillOpacity": 0.7, "weight": 0.5};
            }
        }

        function geo_json_a8edfc0597d868caf0b41e21639fac84_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_a8edfc0597d868caf0b41e21639fac84 = L.geoJson(null, {
                onEachFeature: geo_json_a8edfc0597d868caf0b41e21639fac84_onEachFeature,
            
                style: geo_json_a8edfc0597d868caf0b41e21639fac84_styler,
            ...{
}
        });

        function geo_json_a8edfc0597d868caf0b41e21639fac84_add (data) {
            geo_json_a8edfc0597d868caf0b41e21639fac84
                .addData(data);
        }
            geo_json_a8edfc0597d868caf0b41e21639fac84_add({"features": [{"geometry": {"coordinates": [[[[-0.07591792794794808, 51.51589501871235], [-0.07737099887417906, 51.517396019685506], [-0.08003605823182643, 51.51567348944954], [-0.07617255031926315, 51.5104769637077], [-0.07322990621378411, 51.51000242128328], [-0.07276442031335342, 51.51080490648874], [-0.07396902240431048, 51.514452978062174], [-0.07591792794794808, 51.51589501871235]]]], "type": "MultiPolygon"}, "id": "0", "properties": {"BNG_E": 533581, "BNG_N": 181283, "DISTRICT": "City and County of the City of London", "GSS_CODE": "E05009310", "GlobalID": "{86AEE0AA-079F-4F92-8F9D-5773824F4945}", "HECTARES": 19.867, "LAGSSCODE": "E09000001", "LAT": 51.51469039916992, "LONG": -0.07627999782562256, "LSOA21CD": "E01000005", "LSOA21NM": "City of London 001E", "LSOA21NMW": " ", "NAME": "Tower", "NONLD_AREA": 0.736, "WD24NM": "Portsoken", "_normalized_name": "tower", "crime_rate": 2.0, "is_high_crime": true, "median": 2.0}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
    geo_json_a8edfc0597d868caf0b41e21639fac84.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature => {
        if (feature === null) {
            return '';
        } else if (typeof(feature)=='object') {
            return JSON.stringify(feature);
        } else {
            return feature;
        }
    }
    let fields = ["LSOA21CD", "LSOA21NM", "crime_rate"];
    let aliases = ["LSOA Code:", "LSOA Name:", "Median Crime Rate (from \"median\"):"];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{
  "sticky": true,
  "className": "foliumtooltip",
});
                     
    
            geo_json_a8edfc0597d868caf0b41e21639fac84.addTo(map_1bf34e2cf6ccd382e1b29c1b13037619);
        
    
            var feature_group_e4920fe9ecdf73292d9eefbe6df6f906 = L.featureGroup(
                {
}
            );
        
    
            var marker_900347f645ad2dab3addeb3f452899c6 = L.marker(
                [51.5126692, -0.0765917],
                {
}
            ).addTo(feature_group_e4920fe9ecdf73292d9eefbe6df6f906);
        
    
            var icon_363a01142091025d182039ccc2bd6dda = L.AwesomeMarkers.icon(
                {
  "markerColor": "green",
  "iconColor": "white",
  "icon": "play",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_2b658c0fbe9e929d6d829388fa48320b = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_baf7c76c4d550dbbb8a6f50f15cbbe31 = $(`<div id="html_baf7c76c4d550dbbb8a6f50f15cbbe31" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001E (Guaranteed Pt)<br><b>Median Crime:</b> 2.00</div>`)[0];
                popup_2b658c0fbe9e929d6d829388fa48320b.setContent(html_baf7c76c4d550dbbb8a6f50f15cbbe31);
            
        

        marker_900347f645ad2dab3addeb3f452899c6.bindPopup(popup_2b658c0fbe9e929d6d829388fa48320b)
        ;

        
    
    
                marker_900347f645ad2dab3addeb3f452899c6.setIcon(icon_363a01142091025d182039ccc2bd6dda);
            
    
            var marker_80b391718ae398f478062c4324b88186 = L.marker(
                [51.5136665, -0.0759687],
                {
}
            ).addTo(feature_group_e4920fe9ecdf73292d9eefbe6df6f906);
        
    
            var icon_4ad9a0159e0d2600458a90bbc9b06f33 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_b87dcfaab9a0998d746a7a50e4c0ea76 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_b173eef597d5c8029640fb56f12473f2 = $(`<div id="html_b173eef597d5c8029640fb56f12473f2" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001E (Addl Pt 1)<br><b>Median Crime:</b> 2.00</div>`)[0];
                popup_b87dcfaab9a0998d746a7a50e4c0ea76.setContent(html_b173eef597d5c8029640fb56f12473f2);
            
        

        marker_80b391718ae398f478062c4324b88186.bindPopup(popup_b87dcfaab9a0998d746a7a50e4c0ea76)
        ;

        
    
    
                marker_80b391718ae398f478062c4324b88186.setIcon(icon_4ad9a0159e0d2600458a90bbc9b06f33);
            
    
            var marker_a09871fa14226cbc8335e9b15c522418 = L.marker(
                [51.5136665, -0.0759687],
                {
}
            ).addTo(feature_group_e4920fe9ecdf73292d9eefbe6df6f906);
        
    
            var icon_836433f75079f54b11b84d9c149568ce = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_1372542407420188f496836a72acc140 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_c67129e925ffd3561bdef9ae3d52e2a6 = $(`<div id="html_c67129e925ffd3561bdef9ae3d52e2a6" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001E (Addl Pt 2)<br><b>Median Crime:</b> 2.00</div>`)[0];
                popup_1372542407420188f496836a72acc140.setContent(html_c67129e925ffd3561bdef9ae3d52e2a6);
            
        

        marker_a09871fa14226cbc8335e9b15c522418.bindPopup(popup_1372542407420188f496836a72acc140)
        ;

        
    
    
                marker_a09871fa14226cbc8335e9b15c522418.setIcon(icon_836433f75079f54b11b84d9c149568ce);
            
    
            var marker_259515e7c79c17c0be71472ec92e244c = L.marker(
                [51.5126879, -0.0755849],
                {
}
            ).addTo(feature_group_e4920fe9ecdf73292d9eefbe6df6f906);
        
    
            var icon_a9f7954d9c89545314eb0911cb4cae97 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "circle",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_c19531364d3d78fbb0d8e30d0bcd700f = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_2279b7d05cf824d7ef9a9efe2a22e3d0 = $(`<div id="html_2279b7d05cf824d7ef9a9efe2a22e3d0" style="width: 100.0%; height: 100.0%;"><b>LSOA:</b> City of London 001E (Addl Pt 3)<br><b>Median Crime:</b> 2.00</div>`)[0];
                popup_c19531364d3d78fbb0d8e30d0bcd700f.setContent(html_2279b7d05cf824d7ef9a9efe2a22e3d0);
            
        

        marker_259515e7c79c17c0be71472ec92e244c.bindPopup(popup_c19531364d3d78fbb0d8e30d0bcd700f)
        ;

        
    
    
                marker_259515e7c79c17c0be71472ec92e244c.setIcon(icon_a9f7954d9c89545314eb0911cb4cae97);
            
    
            feature_group_e4920fe9ecdf73292d9eefbe6df6f906.addTo(map_1bf34e2cf6ccd382e1b29c1b13037619);
        
    
            var poly_line_f9b829533b2fada93d9a8978f1bba41f = L.polyline(
                [[51.5126692, -0.0765917], [51.5118358, -0.0771552], [51.5126147, -0.0765925], [51.5126429, -0.0760908], [51.5126879, -0.0755849], [51.5136665, -0.0759687], [51.5126879, -0.0755849], [51.5126429, -0.0760908], [51.5126147, -0.0765925], [51.5126692, -0.0765917]],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "red", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 0.8, "smoothFactor": 1.0, "stroke": true, "weight": 5}
            ).addTo(map_1bf34e2cf6ccd382e1b29c1b13037619);
        
    
            var layer_control_eb53ecde0272a4ee399bcab614124e8a_layers = {
                base_layers : {
                    "cartodbpositron" : tile_layer_1d28a71f05d4c1d92ca15f043cc80cdc,
                },
                overlays :  {
                    "Tower Boundary" : geo_json_5cc6a4b600d3de4a28ea1b9a16fd984a,
                    "LSOA Median Crime Rates for Tower" : geo_json_a8edfc0597d868caf0b41e21639fac84,
                    "Patrol Waypoints" : feature_group_e4920fe9ecdf73292d9eefbe6df6f906,
                },
            };
            let layer_control_eb53ecde0272a4ee399bcab614124e8a = L.control.layers(
                layer_control_eb53ecde0272a4ee399bcab614124e8a_layers.base_layers,
                layer_control_eb53ecde0272a4ee399bcab614124e8a_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_1bf34e2cf6ccd382e1b29c1b13037619);

        
</script>
</html>